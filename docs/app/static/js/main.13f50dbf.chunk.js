(this["webpackJsonptest-graphql"]=this["webpackJsonptest-graphql"]||[]).push([[0],{58:function(t,e,r){},59:function(t,e,r){},72:function(t,e,r){"use strict";r.r(e);var n=r(8),a=r.n(n),i=r(41),c=r.n(i),s=(r(58),r.p,r(59),r(42)),o=r(43),d=r(44),h=r(50),u=r(49),l=r(45),j=r.n(l),p=(r(69),r(3)),b=function(t){Object(h.a)(r,t);var e=Object(u.a)(r);function r(t){var n;return Object(o.a)(this,r),(n=e.call(this,t)).state={width:100,data:null},n.ref=a.a.createRef(),n}return Object(d.a)(r,[{key:"componentDidUpdate",value:function(){var t=this.ref.current?this.ref.current.offsetWidth:this.state.width;t!==this.state.width&&this.setState({width:t})}},{key:"componentDidMount",value:function(){var t=this.parseMapToData(this.props.data),e=this.ref.current?this.ref.current.offsetWidth:this.state.width;this.setState({data:t,width:e})}},{key:"render",value:function(){var t=this.props,e=t.loading,r=t.error,n=this.state,a=n.data,i=n.width;return e?Object(p.jsx)("p",{children:"Loading..."}):r?Object(p.jsxs)("p",{children:["Error ",r.toString()]}):a?Object(p.jsx)("div",{id:"___",ref:this.ref,children:Object(p.jsx)(j.a,{id:"myTreeMap",width:i,height:400,data:a,levelsToDisplay:1,nodeStyle:{paddingLeft:5,paddingRight:5}})}):Object(p.jsx)("p",{children:"no data"})}},{key:"parseMapToData",value:function(t){if(!t)return{};var e=[],r=[10,25,100],n={};return Object.keys(t).forEach((function(a){for(var i=t[a],c={name:a,value:i},s=0;s<r.length;s++){var o=r[s];if(!(i>o))return n[o]||(n[o]={name:"".concat(0===s?1:r[s-1]+1,"-").concat(o),value:0,children:[]}),void n[o].children.push(c)}e.push(c)})),Object.keys(n).forEach((function(t){e.push(n[t])})),{name:"movies",children:e}}}]),r}(a.a.Component);b.defaultProps={data:null};var f=b;function O(t){var e=t.loading,r=t.error,n=t.data,a=t.format;return e?Object(p.jsx)("p",{children:"Loading..."}):r?Object(p.jsxs)("p",{children:["Error ",r.toString()]}):n&&0!==n.length?Object(p.jsxs)("div",{children:["text"===a&&v(n),"graph"===a&&g(n)]}):"NO DATA"}function v(t){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("p",{children:" Movies by country"}),Object(p.jsx)("div",{children:Object(p.jsx)("ul",{children:Object.keys(t).map((function(e,r){return Object(p.jsxs)("li",{children:[" ",e," : ",t[e]," "]},r)}))})})]})}function g(t){return Object(p.jsx)(f,{data:t})}O.defaultProps={data:{},format:"text"};var x,m=r(84),y=r(85),w=Object(m.a)(x||(x=Object(s.a)(["\n  query getDashboard{ \n    dashboard {\n      actors\n      countries\n      directors\n      genres\n      lastUpdate\n      movies\n      people\n      types\n      yearsAdded\n      yearsReleased\n    }\n  }"])));function k(){var t=Object(y.a)(w),e=t.loading,r=t.error,n=t.data;return e?Object(p.jsx)("p",{children:"Loading..."}):r?Object(p.jsxs)("p",{children:["Error ",r.toString()]}):(console.log(n.dashboard.countries),Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{children:"Dashboard"}),Object(p.jsx)(O,{data:n.dashboard.countries,format:"graph"})]}))}var D=function(){return Object(p.jsx)("div",{className:"App",children:Object(p.jsx)(k,{})})},S=function(t){t&&t instanceof Function&&r.e(3).then(r.bind(null,87)).then((function(e){var r=e.getCLS,n=e.getFID,a=e.getFCP,i=e.getLCP,c=e.getTTFB;r(t),n(t),a(t),i(t),c(t)}))},T=r(82),E=r(83),L=r(81),M=new T.a({uri:"https://jmarroyave-data-server-01.herokuapp.com/graphql",cache:new E.a});c.a.render(Object(p.jsxs)(L.a,{client:M,children:[Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(D,{})}),","]}),document.getElementById("root")),S()}},[[72,1,2]]]);
//# sourceMappingURL=main.13f50dbf.chunk.js.map