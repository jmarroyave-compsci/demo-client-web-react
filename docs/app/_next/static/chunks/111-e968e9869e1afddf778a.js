"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[111],{82356:function(e,t,r){r(67294);var n=r(58862),a=r(27159),o=r(85893);t.Z=function(e){var t=e.data,r=e.value,i=e.title,c=e.format,s=e.sufix;if(!(t=t||r)||null==t||0==t.length||"N/A"==t)return null;switch(r=t,c){case"date":r=(0,o.jsx)(a.Z,{value:t,format:"DD/MM/YYYY"});break;case"year":r=(0,o.jsx)(a.Z,{value:t,format:"YYYY"})}return(0,o.jsxs)("div",{children:[(0,o.jsx)(n.Qy,{children:i}),(0,o.jsxs)(n.GH,{children:[r," ",s]})]})}},27159:function(e,t,r){var n=r(15671),a=r(43144),o=r(60136),i=r(82963),c=r(61120),s=r(67294),u=r(53651),l=r(65710),d=r(85893);function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,c.Z)(e);if(t){var a=(0,c.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,i.Z)(this,r)}}var p=function(e){(0,o.Z)(r,e);var t=f(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,a.Z)(r,[{key:"getDate",value:function(e){if(!e||null==e||""===e||0==e.length)return null;if(e instanceof Date)return e;try{var t=Number(e);return Number.isInteger(t)?new Date(t):new Date(e)}catch(r){return null}}},{key:"toString",value:function(e,t,r){switch(r){case"ago":return(0,u.Z)(t,new Date);case"DD/MM/YYYY":return(0,l.Z)(t,"dd/MM/yyyy");case"YYYY":return t.getFullYear();default:return(0,l.Z)(t,r)}}},{key:"render",value:function(){var e=this.props,t=e.lang,r=e.value,n=e.className,a=e.format;t=t||"en",a=a||"ago";var o=this.getDate(r);if(null==o)return(0,d.jsx)("span",{});var i=this.toString(t,o,a);return(0,d.jsx)("span",{className:n,children:i})}}]),r}(s.Component);t.Z=p},55619:function(e,t,r){r.d(t,{Z:function(){return v}});var n=r(4942),a=r(67294),o=r(11163),i=r(93942),c=r(19016),s=r(25810),u=r(14763),l=r(50789),d=(r(14308),r(529)),f=r(85893);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e){var t,r,n=(0,i.I0)(),u=(0,o.useRouter)(),l=e.config,d=(0,a.useState)(!1),p=d[0],v=d[1],b=(0,i.v9)((function(e){return e[l.automata.name]})),j=null!==(t=e.params.render)&&void 0!==t?t:null,y=m(m({},e.params),{},{renderer:null!==(r=e.params.renderer)&&void 0!==r?r:j});b=e.data?{data:e.data,params:{page:e.params.page}}:b,(0,a.useEffect)((function(){b&&n((0,c.K4)({status:b.loading,sender:l.automata.name}))}),[b]),(0,a.useEffect)((function(){u&&v(u.isReady)}),[u]),(0,a.useEffect)((function(){y.breadcrumbs&&n((0,c.YA)({breadcrumbs:"function"===typeof y.breadcrumbs?y.breadcrumbs(b):y.breadcrumbs}))}),[y.breadcrumbs,b]);var O=function(t){e.fetch&&(e.data?e.fetch(m({},t)):n(e.fetch(m({},t))))};return(0,a.useEffect)((function(){p&&("banner"!==j||l.banner.showData)&&O(y)}),[p]),j&&"grid"!=j?(0,f.jsx)(g,{config:e.config,render:j,state:b,loading:!p||!b||b.loading,fetch:O,item:e.item,customDescription:e.customDescription,customTitle:e.customTitle,mainCol:e.mainCol||e.dashboard||e.detail,skeleton:e.skeleton,params:y}):(0,f.jsx)(s.C,{from:l.page.title,data:"render property wasn't set"})}function g(e){var t,r,n=(0,i.I0)(),a=e.config,o=e.item,l=e.mainCol,d=e.state,p=e.render,v=e.params,g=e.fetch,y=e.loading,O=a.page.title,h=(0,f.jsx)(b,m({},e));return y||("detail"===p&&null===d.data&&(n((0,c.PV)({message:"this is a demo version, this record was filtered out to reduce the database size"})),y=!0),"list"===p&&0===d.data.length&&(n((0,c.PV)({message:"data not found"})),y=!0),d.error&&(y=!0)),(0,f.jsxs)(f.Fragment,{children:[d&&d.error&&(0,f.jsx)(s.C,{from:O,data:d.error.message}),"banner"===p&&h,"list"===p&&(0,f.jsx)(u.Z,m(m({},e),{},{id:a.automata.name,banner:h,mainCol:l?l(e):(0,f.jsx)(j,m({},e))})),"page"===p&&(0,f.jsx)(u.Z,m(m({},e),{},{id:a.automata.name,banner:h,mainCol:l?(0,f.jsx)(f.Fragment,{children:y&&e.skeleton?e.skeleton:l({data:null!==(t=null===d||void 0===d?void 0:d.data)&&void 0!==t?t:null,loading:e.loading,params:v,fetch:g,item:o})}):(0,f.jsx)(s.C,{from:O,data:"main component missing, not found in mainCol or detail prop"})})),"detail"===p&&(0,f.jsx)(u.Z,m(m({},e),{},{id:a.automata.name,mainCol:l?(0,f.jsx)(f.Fragment,{children:y&&e.skeleton?e.skeleton:l({data:null!==(r=null===d||void 0===d?void 0:d.data)&&void 0!==r?r:null,loading:e.loading})}):(0,f.jsx)(s.C,{from:O,data:"main component missing, not found in mainCol or detail prop"})}))]})}function b(e){var t,r,n,a,o,i,c,s,u=e.config,l=e.state,p=null!==(t=null===(r=u.banner)||void 0===r?void 0:r.showData)&&void 0!==t&&t,m=e.customTitle?e.customTitle:null!==(n=null===(a=u.page)||void 0===a?void 0:a.title)&&void 0!==n?n:"NO TITLE",v=e.customDescription?e.customDescription:null!==(o=null===(i=u.page)||void 0===i?void 0:i.description)&&void 0!==o?o:"NO DESCRIPTION",g=null===(c=u.page)||void 0===c?void 0:c.url;return(0,f.jsx)(d.Z,{showData:p,loading:e.loading,title:m,description:v,data:null===l||void 0===l?void 0:l.data,item:e.item,actions:[{url:g(null!==(s=null===l||void 0===l?void 0:l.params)&&void 0!==s?s:{}),title:"See all"}],hero:"banner"!==e.render})}function j(e){var t,r,n=e.loading,a=e.state,o=e.fetch,i=e.item;return(0,f.jsx)(l.Z,{loading:n,page:null!==(t=null===a||void 0===a?void 0:a.params.page)&&void 0!==t?t:null,data:null!==(r=null===a||void 0===a?void 0:a.data)&&void 0!==r?r:null,onPageChange:function(e){o(m(m({},a.params),{},{page:e}))},item:i})}},60111:function(e,t,r){r.r(t),r.d(t,{default:function(){return A}});r(67294);var n=r(11163),a=r(4942),o=r(55619),i={automata:{name:"page_movie_festival"},page:{url:function(e){var t=e.id;return"/movies/festivals/".concat(t)}}},c=r(28388),s=r(59067),u=r(12868),l=r(14308),d=r(50367),f=r(58862),p=r(82356),m=r(85893);function v(e){var t=e.data;return console.log(t),(0,m.jsx)(d.RQ,{children:(0,m.jsxs)(l.Z,{children:[(0,m.jsx)(u.Z,{src:t.image?t.image.poster:null}),(0,m.jsx)(s.Z,{text:t.name}),(0,m.jsxs)(d.RQ,{children:[(0,m.jsx)(f.DK,{children:"general information"}),(0,m.jsx)(p.Z,{title:"started",data:t.startYear}),(0,m.jsx)(p.Z,{title:"country",data:t.country}),(0,m.jsx)(p.Z,{title:"continent",data:t.continent})]}),(0,m.jsx)(c.Z,{data:t})]})})}var g=r(28973);function b(e){return(0,m.jsx)(d.X,{children:(0,m.jsxs)(l.Z,{spacing:1,sx:{display:"flex",flexGrow:1},children:[(0,m.jsx)(g.Z,{variant:"rectangular",height:300}),(0,m.jsx)(g.Z,{variant:"text",height:"3rem",style:{marginBottom:"1rem"}}),(0,m.jsx)(g.Z,{variant:"text",style:{width:"40%"}}),(0,m.jsx)(g.Z,{variant:"text",style:{width:"25%"}}),(0,m.jsx)(g.Z,{variant:"text",style:{width:"25%"}}),(0,m.jsx)(g.Z,{variant:"text",style:{width:"25%"}})]})})}var j,y=r(15861),O=r(87757),h=r.n(O),x=r(24268),w=r(16161),P=r(30168),Z=r(54397),D=r(74273);function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var E,C=(0,Z.Ps)(j||(j=(0,P.Z)(["\n  query GetData($id: String!)\n  {\n    movieFestival(id: $id) {\n      id\n      name\n      wiki\n      startYear\n      country\n      continent\n      image{\n        poster\n      }\n    }\n  }\n"])));function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var N=i.automata.name,M=(0,x.hg)("".concat(N,"/fetchData"),function(){var e=(0,y.Z)(h().mark((function e(t,r){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.dispatch(F(t)),e.next=3,n=t.id,(0,D.h)(C,{id:n},(function(e){return Y(Y({},e),{},{data:e.data.movieFestival})}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}var n}),e)})));return function(t,r){return e.apply(this,arguments)}}()),T=(0,x.oM)({name:N,initialState:{params:{id:null},data:null,loading:!0,error:null},reducers:{setParams:function(e,t){e.params=R(R({},e.params),t.payload),"banner"!=e.params.renderer&&1!=e.params.page&&n.default.push("".concat(i.page.url(e.params)),null,{shallow:!0})}},extraReducers:(E={},(0,a.Z)(E,M.pending,(function(e,t){e.data=null,e.loading=!0,e.error=""})),(0,a.Z)(E,M.fulfilled,(function(e,t){var r=t.payload,n=r.loading,a=r.error,o=r.data;e.data=o,e.loading=n,e.error=a})),(0,a.Z)(E,M.rejected,(function(e,t){var r=t.error;e.data=[],e.loading=!1,e.error=r})),E)});w.h.reducerManager.add(N,T.reducer);T.reducer;var F=T.actions.setParams;function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function B(e){return(0,m.jsx)(o.Z,{params:_(_({},e),{},{breadcrumbs:function(t){var r,n;return"".concat(e.breadcrumbs,"/").concat(null!==(r=null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.name)&&void 0!==r?r:"loading")}}),config:i,fetch:function(e){return M(_({},e))},detail:function(e){return(0,m.jsx)(v,{data:e.data})},skeleton:(0,m.jsx)(b,{})})}function G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?G(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var q=function(e){return(0,m.jsx)(B,Q(Q({},e),{},{render:"detail"}))},A=function(e){var t,r,a=(0,n.useRouter)(),o=e.id?e.id:null!==(t=null===(r=a.query)||void 0===r?void 0:r.festival)&&void 0!==t?t:"";return(0,m.jsx)(q,{breadcrumbs:"/movies/festivals",id:o})}}}]);