"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7338],{85639:function(e,n,t){t.d(n,{B9:function(){return v},Ez:function(){return p},AK:function(){return m},iY:function(){return j}});var r,a,i,o,l=t(4942),s=t(30168),u=t(54397),c=t(42535);function d(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function f(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?d(Object(t),!0).forEach((function(n){(0,l.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var v=(0,u.Ps)(r||(r=(0,s.Z)(["\nfragment MovieFestivalTinyFragment on MovieFestival {\n  id: _id\n  name\n  startYear\n}\n"]))),p=function(e){var n=e.page,t=e.op,r=e.qryName,a=void 0===r?"":r;return(0,c.h)(g({qryName:a}),{page:n,field:JSON.stringify(t)},(function(e){return f(f({},e),{},{data:e.data.movieFestivals})}))},g=function(e){var n=e.qryName;return(0,u.Ps)(a||(a=(0,s.Z)(["\n  query movie_festivals_","($page: Int, $field: String)\n  {\n    movieFestivals(page: $page, field: $field){\n      id: _id\n      startYear\n      name\n    }\n  }\n"])),n)},m=function(){return(0,c.h)(h(),{},(function(e){return f(f({},e),{},{data:e.data.dashboardMovieFestivals})}))},h=function(){return(0,u.Ps)(i||(i=(0,s.Z)(["\nquery dashboard_movie_festivals\n  {\n    dashboardMovieFestivals {\n      total\n      startYear\n      startDecade\n      countries\n      continent\n      withAwards\n      awardYear\n      awardedByYear\n    }\n  }\n"])))},j=function(e){var n=e.id,t=e.qryName,r=void 0===t?"":t;return(0,c.h)(y({qryName:r}),{id:n},(function(e){return f(f({},e),{},{data:e.data.movieFestival})}))},y=function(e){e.qryName;return(0,u.Ps)(o||(o=(0,s.Z)(["\nquery movie_festival($id: String!)\n{\n  movieFestival(id: $id) {\n    id: _id\n    name\n    wiki\n    startYear\n    country\n    continent\n    image{\n      poster\n    }\n  }\n}\n"])))}},82356:function(e,n,t){t(67294);var r=t(58862),a=t(27159),i=t(85893);n.Z=function(e){var n=e.data,t=e.value,o=e.title,l=e.format,s=e.sufix;if(!(n=n||t)||null==n||0==n.length||"N/A"==n)return null;switch(t=n,l){case"date":t=(0,i.jsx)(a.Z,{value:n,format:"DD/MM/YYYY"});break;case"year":t=(0,i.jsx)(a.Z,{value:n,format:"YYYY"})}return(0,i.jsxs)("div",{children:[(0,i.jsx)(r.Qy,{children:o}),(0,i.jsxs)(r.GH,{children:[t," ",s]})]})}},50789:function(e,n,t){t.d(n,{Z:function(){return j}});var r=t(4942),a=t(67294),i=t(52651),o=t(23275),l=t(36501),s=t(14308),u=t(28973),c=t(62448),d=t(50367),f=t(12666),v=t(85893);function p(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function g(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?p(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var m={transition:"opacity ".concat(1300,"ms ease-in-out"),opacity:0},h={entering:{opacity:1},entered:{opacity:1},exiting:{opacity:0},exited:{opacity:0}};function j(e){var n=e.animations,t=void 0===n||n,r=e.data,l=e.loading,s=e.url,u=e.skeleton,p=e.item,j=e.onPageChange,b=e.page,x=e.pageSize,O=e.xs,w=void 0===O?12:O,Z=e.sm,P=void 0===Z?6:Z,D=e.md,k=void 0===D?6:D,Y=e.lg,C=void 0===Y?4:Y,N=e.noPaging,E=void 0!==N&&N,S=e.noPadding,F=(0,a.useRef)(null);r=r&&r.length>0?r:[1,2,3,4,5,6];var R=function(e){return S?e:(0,v.jsx)(d.ck,{children:e})},M=function(e){return t?(0,v.jsx)(f.ZP,{in:!0,timeout:1300,children:function(n){return(0,v.jsx)("div",{style:g(g(g({},m),h[n]),{},{width:"100%"}),children:e})}}):e},_=function(e){return(0,v.jsx)(o.Z,{xs:w,sm:P,md:k,lg:C,children:R(l?u||(0,v.jsx)(y,{}):p?M(p(e.data)):null)})},T=(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{ref:F}),(0,v.jsx)(i.Z,{spacing:2,justify:"center",fill:!0,style:{width:"100%"},children:r.map((function(n,t){return(0,v.jsx)(a.Fragment,{children:(0,v.jsx)(_,{data:n,params:e})},t)}))})]});return E||(T=(0,v.jsx)(c.Z,{pageSize:x,data:r,url:s,onPageChange:function(e){F.current.scrollIntoView(!1),j&&j(e)},page:b,loading:l,children:T})),(0,v.jsx)(d.RQ,{children:T})}function y(){return(0,v.jsx)(l.Z,{style:{backgroundColor:"transparent",flexGrow:1,padding:"0.5rem"},children:(0,v.jsxs)(s.Z,{spacing:1,children:[(0,v.jsx)(u.Z,{variant:"text",width:"80%"}),(0,v.jsx)(u.Z,{variant:"rectangular",height:100}),(0,v.jsx)(u.Z,{variant:"text",width:"50%"}),(0,v.jsx)(u.Z,{variant:"text",width:"40%"}),(0,v.jsx)(u.Z,{variant:"text",width:"70%"})]})})}},62448:function(e,n,t){t.d(n,{Z:function(){return s}});t(67294);var r=t(14308),a=t(72642),i=t(50367),o=t(58862),l=t(85893);function s(e){var n=e||{},t=n.children,s=n.loading,u=n.data,c=n.url,d=n.skeleton,f=n.onPageChange,v=n.page,p=n.pageSize,g=void 0===p?10:p,m=v?parseInt(v):1,h=function(e){if(f&&f(e),c){var n="".concat(c,"/").concat(e);router.push(n)}},j=u&&u.length<g,y=1==m;return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(i.RQ,{children:u&&u.length>0?(0,l.jsxs)(r.Z,{spacing:2,children:[t,(0,l.jsxs)(r.Z,{direction:"row",spacing:2,justifyContent:"center",children:[(0,l.jsx)(a.Z,{variant:"outlined",disabled:y,onClick:function(){return h(m-1)},children:"Back"}),(0,l.jsx)(a.Z,{variant:"outlined",disabled:j,onClick:function(){return h(m+1)},children:"Next"})]})]}):(0,l.jsx)(o.Dx,{children:s?d||"loading":"No results"})})})}},27159:function(e,n,t){var r=t(15671),a=t(43144),i=t(60136),o=t(6215),l=t(61120),s=t(67294),u=t(53651),c=t(65710),d=t(85893);function f(e){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=(0,l.Z)(e);if(n){var a=(0,l.Z)(this).constructor;t=Reflect.construct(r,arguments,a)}else t=r.apply(this,arguments);return(0,o.Z)(this,t)}}var v=function(e){(0,i.Z)(t,e);var n=f(t);function t(){return(0,r.Z)(this,t),n.apply(this,arguments)}return(0,a.Z)(t,[{key:"getDate",value:function(e){if(!e||null==e||""===e||0==e.length)return null;if(e instanceof Date)return e;try{var n=Number(e);return Number.isInteger(n)?new Date(n):new Date(e)}catch(t){return null}}},{key:"toString",value:function(e,n,t){switch(t){case"ago":return(0,u.Z)(n,new Date);case"DD/MM/YYYY":return(0,c.Z)(n,"dd/MM/yyyy");case"YYYY":return n.getFullYear();default:return(0,c.Z)(n,t)}}},{key:"render",value:function(){var e=this.props,n=e.lang,t=e.value,r=e.className,a=e.format;n=n||"en",a=a||"ago";var i=this.getDate(t);if(null==i)return(0,d.jsx)("span",{});var o=this.toString(n,i,a);return(0,d.jsx)("span",{className:r,children:o})}}]),t}(s.Component);n.Z=v},55619:function(e,n,t){t.d(n,{Z:function(){return g}});var r=t(4942),a=t(67294),i=t(11163),o=t(39704),l=t(19016),s=t(25810),u=t(14763),c=t(50789),d=(t(14308),t(529)),f=t(85893);function v(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?v(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function g(e){var n,t,r,u,c,d,v,g,h=(0,o.I0)(),j=(0,i.useRouter)(),y=e.config,b=(0,a.useState)(""),x=b[0],O=b[1],w=(0,o.v9)((function(e){return e[y.automata.name]})),Z=null!==(n=e.params.render)&&void 0!==n?n:null,P=p(p({},e.params),{},{renderer:null!==(t=e.params.renderer)&&void 0!==t?t:Z});w=e.data?{data:e.data,params:{page:e.params.page}}:w;(0,a.useEffect)((function(){w&&!e.data&&h((0,l.K4)({status:w.loading,sender:y.automata.name}))}),[w]),(0,a.useEffect)((function(){P.breadcrumbs&&h((0,l.YA)({breadcrumbs:"function"===typeof P.breadcrumbs?P.breadcrumbs(w):P.breadcrumbs}))}),[P.breadcrumbs,w]);var D=function(n){e.fetch&&(e.data?e.fetch(p(p({},w.params),n)):h(e.fetch(p({},n))))};return(0,a.useEffect)((function(){null!==j&&void 0!==j&&j.isReady&&("banner"!==Z||y.banner.showData)&&(e.data||D(P))}),[null===j||void 0===j?void 0:j.isReady,P.id]),Z&&"grid"!=Z?((0,a.useEffect)((function(){""!=x&&h((0,l.PV)({message:x}))}),[x]),(0,f.jsx)(m,{config:e.config,render:Z,state:w,loading:!(null!==j&&void 0!==j&&j.isReady)||!w||null===w||(null===(r=w)||void 0===r?void 0:r.loading),forceLoading:"detail"===Z&&0==(null===(u=w)||void 0===u||null===(c=u.data)||void 0===c?void 0:c.length)||"list"==Z&&0===(null===(d=w)||void 0===d||null===(v=d.data)||void 0===v?void 0:v.length)||(null===(g=w)||void 0===g?void 0:g.error),setErrorMessage:O,fetch:D,item:e.item,customDescription:e.customDescription,customTitle:e.customTitle,mainCol:e.mainCol||e.dashboard||e.detail,skeleton:e.skeleton,params:P})):(0,f.jsx)(s.C,{from:y.page.title,data:"render property wasn't set"})}function m(e){(0,o.I0)();var n,t,r=e.config,a=e.item,i=e.mainCol,l=e.state,c=e.render,d=e.params,v=e.fetch,g=e.setErrorMessage,m=e.loading||e.forceLoading,y=r.page.title;if(0==e.loading&&l){var b,x;if("detail"===c)null!==l.data&&0!=(null===(b=l.data)||void 0===b?void 0:b.length)||(g("this is a demo version, this record was filtered out to reduce the database size"),m=!0);if("list"===c)0===(null===(x=l.data)||void 0===x?void 0:x.length)&&(g("data not found"),m=!0);l.error&&(g(l.error.message),m=!0)}var O=(0,f.jsx)(h,p({},e));return(0,f.jsxs)(f.Fragment,{children:[l&&l.error&&(0,f.jsx)(s.C,{from:y,data:l.error.message}),"banner"===c&&O,"list"===c&&(0,f.jsx)(u.Z,p(p({},e),{},{id:r.automata.name,banner:O,mainCol:m&&e.skeleton?e.skeleton:(0,f.jsx)(j,p({},e))})),"page"===c&&(0,f.jsx)(u.Z,p(p({},e),{},{id:r.automata.name,banner:O,mainCol:i?(0,f.jsx)(f.Fragment,{children:m&&e.skeleton?e.skeleton:i({data:null!==(n=null===l||void 0===l?void 0:l.data)&&void 0!==n?n:null,loading:m,params:d,fetch:v,item:a})}):(0,f.jsx)(s.C,{from:y,data:"main component missing, not found in mainCol or detail prop"})})),"detail"===c&&(0,f.jsx)(u.Z,p(p({},e),{},{id:r.automata.name,mainCol:i?(0,f.jsx)(f.Fragment,{children:m&&e.skeleton?e.skeleton:i({data:null!==(t=null===l||void 0===l?void 0:l.data)&&void 0!==t?t:null,loading:m})}):(0,f.jsx)(s.C,{from:y,data:"main component missing, not found in mainCol or detail prop"})}))]})}function h(e){var n,t,r,a,i,o,l,s,u,c,v=e.config,p=e.state,g=null!==(n=null===(t=v.banner)||void 0===t?void 0:t.showData)&&void 0!==n&&n,m=e.customTitle?"function"===typeof e.customTitle?p?e.customTitle(null!==(r=null===p||void 0===p?void 0:p.params)&&void 0!==r?r:{}):"":e.customTitle:null!==(a=null===(i=v.page)||void 0===i?void 0:i.title)&&void 0!==a?a:"NO TITLE",h=e.customDescription?"function"===typeof e.customDescription?p?e.customDescription(null!==(o=null===p||void 0===p?void 0:p.params)&&void 0!==o?o:{}):"":e.customDescription:null!==(l=null===(s=v.page)||void 0===s?void 0:s.description)&&void 0!==l?l:"NO DESCRIPTION",j=null===(u=v.page)||void 0===u?void 0:u.url;return(0,f.jsx)(d.Z,{showData:g,loading:e.loading,title:m,description:h,data:null===p||void 0===p?void 0:p.data,item:e.item,actions:[{url:j(null!==(c=null===p||void 0===p?void 0:p.params)&&void 0!==c?c:{}),title:"See all"}],hero:"banner"!==e.render})}function j(e){var n,t,r=e.loading,a=e.state,i=e.fetch,o=e.item;return(0,f.jsx)(c.Z,{loading:r,page:null!==(n=null===a||void 0===a?void 0:a.params.page)&&void 0!==n?n:null,data:null!==(t=null===a||void 0===a?void 0:a.data)&&void 0!==t?t:null,onPageChange:function(e){return i({page:e})},item:o})}}}]);