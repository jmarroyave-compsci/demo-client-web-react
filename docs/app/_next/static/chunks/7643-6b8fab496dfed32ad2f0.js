(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7643],{60181:function(e,n,r){"use strict";var t=r(64119);n.Z=void 0;var a=t(r(64938)),o=r(85893),i=(0,a.default)((0,o.jsx)("path",{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}),"ExpandLess");n.Z=i},23508:function(e,n,r){"use strict";var t=r(64119);n.Z=void 0;var a=t(r(64938)),o=r(85893),i=(0,a.default)((0,o.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");n.Z=i},77643:function(e,n,r){"use strict";r.d(n,{Z:function(){return X}});var t,a=r(4942),o=r(67294),i=r(55619),c={automata:{name:"story-topics"},page:{title:"Topics",description:"",url:function(e){var n=e.entity,r=e.decade,t=e.genre;return"/".concat(n,"/stories/topics/").concat(r,"/").concat(t)}},banner:{showData:!0,renderer:"marquee"}},u=r(15861),s=r(87757),l=r.n(s),d=r(24268),p=r(80105),f=r(11163),g=r(30168),y=r(54397),v=r(42535);function m(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function h(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?m(Object(r),!0).forEach((function(n){(0,a.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var b,j=function(e){var n=e.page,r=e.entity,t=e.genre,a=e.decade;return(0,v.h)(O({ENTITY:r.replace(/-/g,"_")}),{page:n,year:parseInt(a),genre:t},(function(e){return h(h({},e),{},{data:e.data.storyTopics})}))},O=function(e){var n=e.ENTITY;return(0,y.Ps)(t||(t=(0,g.Z)(["\nquery ","_topics($page: Int, $genre: String, $year: Int){\n  storyTopics(page: $page, genre: $genre, year: $year){\n    year\n    genre\n    max\n    min\n    words{\n      n\n      p\n    }\n  }\n}\n"])),n)};function w(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function x(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?w(Object(r),!0).forEach((function(n){(0,a.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var P=c.automata.name,E=(0,d.hg)("".concat(P,"/fetchData"),function(){var e=(0,u.Z)(l().mark((function e(n,r){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.dispatch(Z(n)),console.log(n),e.next=4,j(n);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}()),C=(0,d.oM)({name:P,initialState:{params:{renderer:null,entity:null,page:null,genre:null,decade:null},data:null,loading:!0,error:null},reducers:{setParams:function(e,n){e.params=x(x({},e.params),n.payload),"banner"!=e.params.renderer&&f.default.push("".concat(c.page.url(e.params),"?page=").concat(e.params.page),null,{shallow:!0})}},extraReducers:(b={},(0,a.Z)(b,E.pending,(function(e,n){e.data=null,e.loading=!0,e.error=""})),(0,a.Z)(b,E.fulfilled,(function(e,n){var r=n.payload,t=r.loading,a=r.error,o=r.data;e.data=o,e.loading=t,e.error=a})),(0,a.Z)(b,E.rejected,(function(e,n){var r=n.error;e.data=[],e.loading=!1,e.error=r})),b)});p.h.reducerManager.add(P,C.reducer);C.reducer;var Z=C.actions.setParams,D=r(39698),S=r(50367),k=r(97005),N=r(85893);var R=function(e){var n=e.max,r=e.min,t=e.words,a=e.genre,o=e.year,i=e.header,c=void 0===i||i;n=n||t.reduce((function(e,n){return e>n.n?e:n.n}),0),r=r||t.reduce((function(e,n){return e>n.n?n.n:e}),n);var u=function(e){e+=10;for(var t=[1,2,3,5,8,12,16,21,34,55],a=(n-r)/t[t.length-1],o=Math.floor(e/a),i=0;i<t.length;i++){if(o<t[i]){o=i;break}}return t[o]+10},s=function(e){e.data;var n=e.direction,r=e.start;return(0,N.jsx)(k.Z,{gradient:!1,direction:n,children:t.slice(r,2*r-1).map((function(e,n){return(0,N.jsx)("span",{style:{border:"1px solid rgba(0,0,0,0.1)",padding:"0.5rem",marginRight:"1rem",marginBottom:"0.25rem",fontSize:"".concat(u(e.n),"px")},children:e.p.split(",").join(" ")},n)}))})},l=Math.floor(t.length/5);return(0,N.jsxs)("div",{style:{padding:"1rem"},children:[c&&(0,N.jsx)(S.RQ,{children:(0,N.jsxs)(D.Dx,{children:[a.toUpperCase()," ",o]})}),[0,1,2,3,4].map((function(e){return(0,N.jsx)(s,{start:l*e,direction:e%2==0?"left":"right"},e)}))]})},T=r(45688),I=r(14308),M=r(24463),A=r(86547),F=r(15121),_=r(98326),q=r(72642);function G(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function H(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?G(Object(r),!0).forEach((function(n){(0,a.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var z={decade:null,genre:null};function L(e,n){var r;switch(n.type){case"INIT":return H(H({},e),{},{decade:n.payload.decade?n.payload.decade:e.decade,genre:n.payload.genre?n.payload.genre:e.genre});case"DECADE_CHANGE":return H(H({},e),{},{decade:n.payload});case"GENRE_CHANGE":return H(H({},e),{},{genre:n.payload});default:throw new Error("operation ".concat(null===(r=n.type)||void 0===r?void 0:r.toUpperCase()," not implemented"))}}function $(e){var n=(0,o.useState)(!1),r=(n[0],n[1],(0,o.useReducer)(L,z)),t=r[0],a=r[1],i=e.params,c=e.onChange,u=(0,o.useMemo)((function(){return(0,_.a)().map((function(e){return{label:e,id:e}}))}),[]),s=(0,o.useMemo)((function(){return["all","Action","Adult","Adventure","Animation","Biography","Comedy","Crime","Documentary","Drama","Family","Fantasy","Film-Noir","Game-Show","History","Horror","Music","Musical","Mystery","News","Reality-TV","Romance","Sci-Fi","Short","Sport","Talk-Show","Thriller","War","Western"].map((function(e){return e.toLowerCase()})).map((function(e){return{label:e,id:e}}))}),[]);console.log(i),(0,o.useEffect)((function(){a({type:"INIT",payload:{decade:u.find((function(e){return e.id==i.decade})),genre:s.find((function(e){return e.id==i.genre}))}})}),[i]);return t.decade&&t.genre?(0,N.jsx)(S.RQ,{children:(0,N.jsxs)(I.Z,{spacing:2,children:[(0,N.jsx)(F.Z,{id:"decade",disableClearable:!0,options:u,value:t.decade,onChange:function(e,n){return a({type:"DECADE_CHANGE",payload:n})},sx:{width:300},renderInput:function(e){return(0,N.jsx)(A.Z,H(H({},e),{},{label:"Decade"}))}}),(0,N.jsx)(F.Z,{id:"genre",disableClearable:!0,options:s,value:t.genre,onChange:function(e,n){return a({type:"GENRE_CHANGE",payload:n})},sx:{width:300},renderInput:function(e){return(0,N.jsx)(A.Z,H(H({},e),{},{label:"Genre"}))}}),(0,N.jsx)(S.RQ,{children:(0,N.jsx)(q.Z,{variant:"outlined",onClick:function(){!function(){var e={decade:t.decade.id,genre:t.genre.id};c&&c(e)}()},children:"Filter"})})]})}):null}var B=r(50789);function Y(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function Q(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?Y(Object(r),!0).forEach((function(n){(0,a.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var U=function(e){var n=e.data,r=e.loading,t=e.fetch,a=e.params,o=e.item;return(0,N.jsxs)(I.Z,{children:[(0,N.jsx)(M.Z,{onChange:function(e){t(Q(Q({},e),{},{page:1}))},filters:function(e){var n=e.onChange;return(0,N.jsx)($,{onChange:n,params:a})}}),(0,N.jsx)(B.Z,{data:n,loading:r,item:o,page:e.params.page,params:a,onPageChange:function(e){return t(Q(Q({},a),{},{page:e}))}})]})};function W(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function V(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?W(Object(r),!0).forEach((function(n){(0,a.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function X(e){return(0,N.jsx)(i.Z,{params:e,config:c,fetch:function(e){return E(e)},item:function(n){return(0,N.jsx)(R,V(V({type:e.type},n),{},{header:"banner"!=e.render}))},mainCol:function(e){return(0,N.jsx)(U,V({},e))},customTitle:function(e){return"".concat(c.page.title,": ").concat(e.decade,"s ").concat(e.genre)},customDescription:function(e){return e.decade?(0,N.jsx)(T.C,{tag:e.decade}):""},customUrl:function(e){return c.page.url(e)}})}},24463:function(e,n,r){"use strict";r.d(n,{Z:function(){return l}});var t=r(67294),a=(r(50367),r(58862),r(72642)),o=r(71508),i=r(60181),c=r(23508),u=r(62318),s=r(85893);function l(e){var n=e.filters,r=(0,t.useState)(!1),l=r[0],d=r[1];var p=function(e){d(e)};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.Z,{onClick:function(){return p(!l)},endIcon:l?(0,s.jsx)(i.Z,{}):(0,s.jsx)(c.Z,{}),children:"Filter"}),(0,s.jsx)(u.ZP,{anchor:"top",open:l,onClose:function(){return p(!1)},children:(0,s.jsx)(o.Z,{sx:{padding:"2rem 2rem 0rem 2rem",backgroundColor:"background.paper"},children:n({onChange:function(n){e.onChange&&e.onChange(n),p(!1)}})})})]})}},98326:function(e,n,r){"use strict";r.d(n,{a:function(){return t},V:function(){return a}});var t=function(){for(var e=[],n=1880;n<(new Date).getFullYear();n+=10){var r=n.toString().slice(0,3).padEnd(4,"0");e.push(r)}return e.reverse()},a=function(){for(var e=[],n=1880;n<(new Date).getFullYear();n++){var r=n.toString();e.push(r)}return e.reverse()}},97005:function(e,n,r){var t=r(67294);function a(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var o=a(t),i=function(){return(i=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++)for(var a in n=arguments[r])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e}).apply(this,arguments)};!function(e){if(e&&"undefined"!==typeof window){var n=document.createElement("style");n.setAttribute("type","text/css"),n.innerHTML=e,document.head.appendChild(n)}}('.marquee-container {\n  overflow-x: hidden !important;\n  display: flex !important;\n  flex-direction: row !important;\n  position: relative;\n  width: 100%;\n}\n.marquee-container:hover div {\n  animation-play-state: var(--pause-on-hover);\n}\n.marquee-container:active div {\n  animation-play-state: var(--pause-on-click);\n}\n\n.overlay {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n}\n.overlay::before, .overlay::after {\n  background: linear-gradient(to right, var(--gradient-color));\n  content: "";\n  height: 100%;\n  position: absolute;\n  width: var(--gradient-width);\n  z-index: 2;\n}\n.overlay::after {\n  right: 0;\n  top: 0;\n  transform: rotateZ(180deg);\n}\n.overlay::before {\n  left: 0;\n  top: 0;\n}\n\n.marquee {\n  flex: 0 0 auto;\n  min-width: 100%;\n  z-index: 1;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  animation: scroll var(--duration) linear var(--delay) var(--iteration-count);\n  animation-play-state: var(--play);\n  animation-delay: var(--delay);\n  animation-direction: var(--direction);\n}\n@keyframes scroll {\n  0% {\n    transform: translateX(0%);\n  }\n  100% {\n    transform: translateX(-100%);\n  }\n}');n.Z=function(e){var n,r,a,c,u=e.style,s=void 0===u?{}:u,l=e.className,d=void 0===l?"":l,p=e.play,f=void 0===p||p,g=e.pauseOnHover,y=void 0!==g&&g,v=e.pauseOnClick,m=void 0!==v&&v,h=e.direction,b=void 0===h?"left":h,j=e.speed,O=void 0===j?20:j,w=e.delay,x=void 0===w?0:w,P=e.gradient,E=void 0===P||P,C=e.gradientColor,Z=void 0===C?[255,255,255]:C,D=e.gradientWidth,S=void 0===D?200:D,k=e.children,N=e.loop,R=void 0===N?0:N,T=t.useState(0),I=T[0],M=T[1],A=t.useState(0),F=A[0],_=A[1],q=t.useState(0),G=q[0],H=q[1],z=t.useState(!1),L=z[0],$=z[1],B=t.useRef(null),Y=t.useRef(null),Q=function(){Y.current&&B.current&&(M(B.current.getBoundingClientRect().width),_(Y.current.getBoundingClientRect().width)),H(F<I?I/O:F/O)};t.useEffect((function(){return Q(),window.addEventListener("resize",Q),function(){window.removeEventListener("resize",Q)}})),t.useEffect((function(){$(!0)}),[]);var U="rgba("+Z[0]+", "+Z[1]+", "+Z[2];return o.default.createElement(t.Fragment,null,L?o.default.createElement("div",{ref:B,style:i(i({},s),(n={},n["--pause-on-hover"]=y?"paused":"running",n["--pause-on-click"]=m?"paused":"running",n)),className:d+" marquee-container"},E&&o.default.createElement("div",{style:(r={},r["--gradient-color"]=U+", 1), "+U+", 0)",r["--gradient-width"]="number"===typeof S?S+"px":S,r),className:"overlay"}),o.default.createElement("div",{ref:Y,style:(a={},a["--play"]=f?"running":"paused",a["--direction"]="left"===b?"normal":"reverse",a["--duration"]=G+"s",a["--delay"]=x+"s",a["--iteration-count"]=R?""+R:"infinite",a),className:"marquee"},k),o.default.createElement("div",{style:(c={},c["--play"]=f?"running":"paused",c["--direction"]="left"===b?"normal":"reverse",c["--duration"]=G+"s",c["--delay"]=x+"s",c["--iteration-count"]=R?""+R:"infinite",c),className:"marquee"},k)):null)}}}]);