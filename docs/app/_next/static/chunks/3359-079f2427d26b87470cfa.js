(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3359],{1015:function(e,n,r){"use strict";r.d(n,{S:function(){return d},E:function(){return p}});var t,o,i=r(30168),a=r(4942),c=r(54397),l=r(42535);function u(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function s(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?u(Object(r),!0).forEach((function(n){(0,a.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var d=function(e){var n=e.topic,r=e.entity;return(0,l.h)(f({entity:r}),{topic:n},(function(e){return s(s({},e),{},{data:e.data.storyTopic})}))},f=function(e){var n=e.ENTITY;return(0,c.Ps)(t||(t=(0,i.Z)(["\nquery ","_topic($topic: String!){\n  storyTopic(topic: $topic){\n    year\n    genre\n  }\n}\n"])),n)},p=function(e){var n=e.page,r=e.entity,t=e.genre,o=e.decade;return(0,l.h)(g({ENTITY:r.replace(/-/g,"_")}),{page:n,year:parseInt(o),genre:t},(function(e){return s(s({},e),{},{data:e.data.storyTopics})}))},g=function(e){var n=e.ENTITY;return(0,c.Ps)(o||(o=(0,i.Z)(["\nquery ","_topics($page: Int, $genre: String, $year: Int){\n  storyTopics(page: $page, genre: $genre, year: $year){\n    year\n    genre\n    max\n    min\n    words{\n      n\n      p\n    }\n  }\n}\n"])),n)}},26989:function(e,n,r){"use strict";var t=r(4942),o=r(67294),i=r(26447),a=r(90461),c=r(9573),l=r(38732),u=r(98102),s=r(56011),d=r(3694),f=r(85893);function p(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}n.Z=function(e){var n,r,g,y=e.onExit,v=e.topic,h=null!==(n=e.data)&&void 0!==n&&n.records?e.data.records:null===(r=e.data)||void 0===r||null===(g=r.topic)||void 0===g?void 0:g.data,m=(0,o.useState)({}),b=m[0],j=m[1],O=function(e,n){return n?"rgba(0,0,0,0.4)":e%2==0?"rgba(0,0,0,0.1)":"inherit"};return(0,o.useEffect)((function(){if(h){var e={},n={};h.forEach((function(r){e[r.year]||(e[r.year]={}),n[r.genre]||(n[r.genre]={})}));var r={};Object.keys(n).forEach((function(n){return r[n]=function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?p(Object(r),!0).forEach((function(n){(0,t.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}({},e)})),h.forEach((function(e){r[e.genre][e.year]=1})),j(r)}}),[h]),(0,f.jsxs)("div",{children:[(0,f.jsxs)(i.Z,{direction:"row",style:{marginBottom:"1rem"},children:[(0,f.jsx)(a.Z,{label:v.replace(/,/g," "),onDelete:y}),(0,f.jsx)("div",{style:{flex:1}})]}),(0,f.jsx)("div",{style:{fontSize:"0.6rem",width:"100%",maxHeight:"400px",overflow:"auto"},children:(0,f.jsxs)(c.Z,{size:"small",stickyHeader:!0,children:[(0,f.jsx)(s.Z,{children:(0,f.jsxs)(d.Z,{children:[(0,f.jsx)(u.Z,{children:"\xa0"}),Object.keys(b).slice(0,1).map((function(e){return Object.keys(b[e]).map((function(e){return(0,f.jsx)(u.Z,{align:"center",children:e},e)}))})),(0,f.jsx)(u.Z,{children:"\xa0"})]})}),(0,f.jsx)(l.Z,{children:Object.keys(b).map((function(n,r){return(0,f.jsxs)(d.Z,{style:{backgroundColor:O(r,!1)},children:[(0,f.jsx)(u.Z,{style:{backgroundColor:O(0,n==e.genre)},children:n}),Object.keys(b[n]).map((function(r){return(0,f.jsx)(u.Z,{style:{backgroundColor:O(0,r==e.year||n==e.genre)},align:"center",children:1==b[n][r]?"\u2713":" "},r)})),(0,f.jsx)(u.Z,{style:{backgroundColor:O(0,n==e.genre)},children:n})]},r)}))})]})})]})}},23620:function(e,n,r){"use strict";r.d(n,{Z:function(){return j}});var t=r(4942),o=r(67294),i=r(29602),a=r(2734),c=r(97005),l=r(74187),u=r(14308),s=r(28973),d=r(74035),f=r(85893);function p(e){return(0,f.jsx)(d.X,{children:(0,f.jsx)(u.Z,{spacing:1,sx:{padding:"1rem",display:"flex",flexGrow:1},children:(0,f.jsx)(s.Z,{variant:"rectangular",height:150})})})}function g(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function y(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?g(Object(r),!0).forEach((function(n){(0,t.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var v=(0,i.ZP)("span")((function(e){var n=e.fontSize,r=e.color,t=e.backgroundColor;e.theme;return{border:"1px solid rgba(0,0,0,0.2)",padding:"0.5rem",marginRight:"1rem",marginBottom:"0.25rem",fontSize:"".concat(n),color:"".concat(r),backgroundColor:"".concat(t),cursor:"pointer",borderRadius:"5px"}})),h=function(e){e.data;var n=e.direction,r=e.words,t=e.max,o=e.min,i=e.onClick,a=e.wordName,l=e.wordCount;return(0,f.jsx)(c.Z,{gradient:!1,direction:n,pauseOnHover:!0,pauseOnClick:!0,children:r.map((function(e,n){return(0,f.jsx)(v,y(y({},b(l(e),t,o)),{},{fontSize:m(l(e),t,o),onClick:function(){return i(a(e).toLowerCase())},children:a(e).toLowerCase()}),n)}))})},m=function(e,n,r){e+=10;for(var t=[1,2,3,5,8,12,16,21,34,55],o=(n-r)/t[t.length-1],i=Math.floor(e/o),a=0;a<t.length;a++){if(i<t[a]){i=a;break}}return"1em"},b=function(e,n,r){for(var t=(0,a.Z)(),o=[3,5,8,13,21,34,55],i=(n-r)/o[o.length-1],c=Math.floor(e/i),u=0;u<o.length;u++)if(c<=o[u]){c=u;break}return c=c>o.length-1?o.length-1:c,(0,l.$)(t,c)},j=function(e){var n=e.data,r=e.onTopicClick,t=e.loading,i=(e.wordName,e.wordCount);if(null==n||t)return(0,f.jsx)(p,{});var a="i-".repeat(3).split("-"),c=Math.floor(n.length/4),l=i(n[0]),u=i(n[n.length-1]);return(0,f.jsx)("div",{children:a.map((function(t,i){return(0,o.createElement)(h,y(y({},e),{},{onClick:r,max:l,min:u,key:i,words:n.slice(c*i,c*(i+1)),direction:i%2==0?"left":"right"}))}))})}},74187:function(e,n,r){"use strict";r.d(n,{$:function(){return a}});r(67294);var t=r(47036),o=r(6767),i=r.n(o);r(7269);function a(e,n){var r="dark"===e.palette.mode;n=n>9?9:n,n=r?10-n:n;var o=i()(10==n||0==n?r?"black":"white":t.Z[100*n]),a=(r?o.darken(.75):o.lighten(.75)).negate();return{backgroundColor:o.fade(.5).rgb().toString(),color:a.rgb().toString()}}},97005:function(e,n,r){var t=r(67294);function o(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var i=o(t),a=function(){return(a=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++)for(var o in n=arguments[r])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)};!function(e){if(e&&"undefined"!==typeof window){var n=document.createElement("style");n.setAttribute("type","text/css"),n.innerHTML=e,document.head.appendChild(n)}}('.marquee-container {\n  overflow-x: hidden !important;\n  display: flex !important;\n  flex-direction: row !important;\n  position: relative;\n  width: 100%;\n}\n.marquee-container:hover div {\n  animation-play-state: var(--pause-on-hover);\n}\n.marquee-container:active div {\n  animation-play-state: var(--pause-on-click);\n}\n\n.overlay {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n}\n.overlay::before, .overlay::after {\n  background: linear-gradient(to right, var(--gradient-color));\n  content: "";\n  height: 100%;\n  position: absolute;\n  width: var(--gradient-width);\n  z-index: 2;\n}\n.overlay::after {\n  right: 0;\n  top: 0;\n  transform: rotateZ(180deg);\n}\n.overlay::before {\n  left: 0;\n  top: 0;\n}\n\n.marquee {\n  flex: 0 0 auto;\n  min-width: 100%;\n  z-index: 1;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  animation: scroll var(--duration) linear var(--delay) var(--iteration-count);\n  animation-play-state: var(--play);\n  animation-delay: var(--delay);\n  animation-direction: var(--direction);\n}\n@keyframes scroll {\n  0% {\n    transform: translateX(0%);\n  }\n  100% {\n    transform: translateX(-100%);\n  }\n}');n.Z=function(e){var n,r,o,c,l=e.style,u=void 0===l?{}:l,s=e.className,d=void 0===s?"":s,f=e.play,p=void 0===f||f,g=e.pauseOnHover,y=void 0!==g&&g,v=e.pauseOnClick,h=void 0!==v&&v,m=e.direction,b=void 0===m?"left":m,j=e.speed,O=void 0===j?20:j,w=e.delay,x=void 0===w?0:w,k=e.gradient,E=void 0===k||k,P=e.gradientColor,Z=void 0===P?[255,255,255]:P,C=e.gradientWidth,S=void 0===C?200:C,D=e.children,N=e.loop,T=void 0===N?0:N,$=t.useState(0),q=$[0],z=$[1],_=t.useState(0),I=_[0],R=_[1],H=t.useState(0),L=H[0],B=H[1],M=t.useState(!1),X=M[0],Y=M[1],A=t.useRef(null),F=t.useRef(null),G=function(){F.current&&A.current&&(z(A.current.getBoundingClientRect().width),R(F.current.getBoundingClientRect().width)),B(I<q?q/O:I/O)};t.useEffect((function(){return G(),window.addEventListener("resize",G),function(){window.removeEventListener("resize",G)}})),t.useEffect((function(){Y(!0)}),[]);var W="rgba("+Z[0]+", "+Z[1]+", "+Z[2];return i.default.createElement(t.Fragment,null,X?i.default.createElement("div",{ref:A,style:a(a({},u),(n={},n["--pause-on-hover"]=y?"paused":"running",n["--pause-on-click"]=h?"paused":"running",n)),className:d+" marquee-container"},E&&i.default.createElement("div",{style:(r={},r["--gradient-color"]=W+", 1), "+W+", 0)",r["--gradient-width"]="number"===typeof S?S+"px":S,r),className:"overlay"}),i.default.createElement("div",{ref:F,style:(o={},o["--play"]=p?"running":"paused",o["--direction"]="left"===b?"normal":"reverse",o["--duration"]=L+"s",o["--delay"]=x+"s",o["--iteration-count"]=T?""+T:"infinite",o),className:"marquee"},D),i.default.createElement("div",{style:(c={},c["--play"]=p?"running":"paused",c["--direction"]="left"===b?"normal":"reverse",c["--duration"]=L+"s",c["--delay"]=x+"s",c["--iteration-count"]=T?""+T:"infinite",c),className:"marquee"},D)):null)}}}]);