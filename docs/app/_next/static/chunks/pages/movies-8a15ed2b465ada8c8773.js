(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8513],{16266:function(e,r,t){"use strict";t.d(r,{Z:function(){return g}});var n=t(4942),o=(t(67294),t(20780)),i=t(25662),a=t(88704),c=t(43332),s=t(42341),u=t(85893);function l(e){var r=e.id,t=e.name;e.box;return(0,u.jsx)(s.Z,{box:!0,id:r,entity:t,children:(0,u.jsx)(c.Z,{title:t})})}function d(e){var r=e.id,t=e.name;e.box;return(0,u.jsx)(s.Z,{box:!0,id:r,entity:t,children:(0,u.jsx)(c.Z,{title:t})})}var f=t(25810);function p(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function b(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?p(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var g=function(e){e.id;var r=e.type;switch(e.children,e.box,r){case"movie":return(0,u.jsx)(o.Z,b({},e));case"person":return(0,u.jsx)(i.Z,b({},e));case"podcast":return(0,u.jsx)(a.Z,b({},e));case"tv-show":return(0,u.jsx)(l,b({},e));case"video-game":return(0,u.jsx)(d,b({},e))}return(0,u.jsx)(f.C,{from:"Entity Item",data:"ENTITY ".concat(r," NOT FOUND")})}},42341:function(e,r,t){"use strict";t(67294);var n=t(89260),o=t(85893);r.Z=function(e){var r=e.id,t=e.children,i=e.box;return(0,o.jsx)(n.Z,{box:i,to:"/movies/festivals/".concat(r),children:t})}},23731:function(e,r,t){"use strict";t.d(r,{E:function(){return l}});var n,o=t(30168),i=t(4942),a=t(54397),c=t(74273);t(61878);function s(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function u(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?s(Object(t),!0).forEach((function(r){(0,i.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var l=function(e){var r=e.page,t=e.op;return(0,c.h)(d,{page:r,field:JSON.stringify(t)},(function(e){return u(u({},e),{},{data:e.data.movies})}))},d=(0,a.Ps)(n||(n=(0,o.Z)(["\n  query GetItems($page: Int, $field: String)\n  {\n    movies(page: $page, field: $field){\n      id\n      title\n    }\n  }\n"])))},25662:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});t(67294);var n=t(43332),o=t(55476),i=(t(59231),t(39698)),a=t(82356),c=t(85893);function s(e){var r=e.tiny,t=e.format;switch(t=r?"tiny":t){case"list":return function(e){var r=e.id,t=e.name,n=e.as;return(0,c.jsx)(i.xs,{width:"220px",height:"125px",children:(0,c.jsxs)(o.Z,{id:r,children:[(0,c.jsx)("div",{children:(0,c.jsx)(i.Dx,{children:null!==t&&void 0!==t?t:"?"})}),n&&(0,c.jsx)("div",{children:(0,c.jsxs)(i.x4,{children:["as ",n.replace(/[\[\]\'\"]/g,"")]})})]})},r)}(e);case"tiny":return function(e){var r=e.id,t=e.name,n=e.releaseYear;return(0,c.jsx)(o.Z,{id:r,children:(0,c.jsx)(a.Z,{value:t,title:n})})}(e);case"card":default:return function(e){var r=e.id,t=e.name,i=e.text;e.box;return(0,c.jsx)(o.Z,{box:!0,id:r,entity:t,children:(0,c.jsx)(n.Z,{title:t,text:i})},r)}(e)}}},55476:function(e,r,t){"use strict";t(67294);var n=t(89260),o=t(85893);r.Z=function(e){var r=e.id,t=(e.entity,e.children),i=e.box;return r?(0,o.jsx)(n.Z,{box:i,border:!1,to:"/people/".concat(r),children:t}):t}},88704:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});t(67294);var n=t(43332),o=t(44898),i=(t(59231),t(85893));function a(e){var r=e.id,t=e.title,a=(e.awards,e.full,e.image),c=e.description;e.box;return(0,i.jsx)(o.Z,{box:!0,id:r,entity:name,style:{width:"100%"},children:(0,i.jsx)(n.Z,{image:null===a||void 0===a?void 0:a.poster,text:c,title:t})})}},44898:function(e,r,t){"use strict";t(67294);var n=t(89260),o=t(85893);r.Z=function(e){var r=e.id,t=(e.entity,e.children),i=e.box;return(0,o.jsx)(n.Z,{box:i,border:!0,to:"/podcasts/".concat(r),children:t})}},66432:function(e,r,t){"use strict";t.d(r,{Z:function(){return C}});var n=t(67294),o=t(4942),i=t(16266),a=t(50789),c=t(85893);function s(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function u(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?s(Object(t),!0).forEach((function(r){(0,o.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var l,d=function(e){var r=e.type;return(0,c.jsx)(a.Z,u(u({},e),{},{item:function(e){return(0,c.jsx)(i.Z,u(u({},e),{},{type:r}))}}))},f=t(15861),p=t(87757),b=t.n(p),g=t(24268),j=t(16161),O=(t(11163),t(30168)),y=t(54397),v=t(74273);t(61878);function h(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function x(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?h(Object(t),!0).forEach((function(r){(0,o.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):h(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var m,w=function(e){var r=e.page,t=e.op;return(0,v.h)(P,{page:r,field:JSON.stringify(t)},(function(e){return x(x({},e),{},{data:e.data.people})}))},P=(0,y.Ps)(l||(l=(0,O.Z)(["\n  query GetItems($page: Int, $field: String)\n  {\n    people(page: $page, field: $field){\n      id\n      name\n    }\n  }\n"]))),Z=t(23731),D="dashboard",E=(0,g.hg)("".concat(D,"/fetchData"),function(){var e=(0,f.Z)(b().mark((function e(r,t){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.dispatch(q(r)),e.t0=r.type,e.next="person"===e.t0?4:"movie"===e.t0?7:10;break;case 4:return e.next=6,w(r);case 6:return e.abrupt("return",e.sent);case 7:return e.next=9,Z.E(r);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}()),S=(0,g.oM)({name:D,initialState:{params:{page:null},data:null,loading:!1,error:null},reducers:{setParams:function(e,r){e.params.page=r.payload.page}},extraReducers:(m={},(0,o.Z)(m,E.pending,(function(e,r){e.data=null,e.loading=!0,e.error=""})),(0,o.Z)(m,E.fulfilled,(function(e,r){var t=r.payload,n=t.loading,o=t.error,i=t.data;e.data=i,e.loading=n,e.error=o})),(0,o.Z)(m,E.rejected,(function(e,r){var t=r.error;e.data=[],e.loading=!1,e.error=t})),m)});j.h.reducerManager.add(D,S.reducer);S.reducer;var q=S.actions.setParams,k=t(93942),_=t(19016);function N(e){var r=(0,k.I0)(),t=(0,k.v9)((function(e){return e.dashboard})),o=e.query,i=function(e){return{op:o.op,type:o.type,page:e}},a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return r(E(i(e)))};return(0,n.useEffect)((function(){null!=o&&a()}),[o]),(0,n.useEffect)((function(){null!=o&&null!=t&&r((0,_.wg)({title:o.title,children:(0,c.jsx)(d,{page:t.params.page,loading:t.loading,data:t.data,type:o.type,onPageChange:function(e){return a(e)},pageSize:4})}))}),[t]),(0,n.useEffect)((function(){t&&r((0,_.K4)({status:t.loading,sender:"dashboard"}))}),[null===t||void 0===t?void 0:t.loading]),null}N.propTypes={};var C=N},89441:function(e,r,t){"use strict";t.d(r,{K:function(){return c},q:function(){return s}});t(67294);var n=t(23275),o=t(92401),i=t(96474),a=t(85893),c=function(e,r,t,i){return(0,a.jsx)(n.Z,{xs:12,sm:6,md:6,lg:3,style:{paddingRight:"1rem"},children:(0,a.jsx)(o.Z,{loading:e,title:r,data:t?t.toString():t,icon:i})})},s=function(e,r,t,o){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"-";return(0,a.jsx)(n.Z,{xs:12,sm:6,md:6,lg:6,style:{paddingRight:"1rem"},children:(0,a.jsx)(i.Z,{interactive:+("-"!=s),onClick:function(e){return c(e,r,s)},loading:e,title:r,data:t||{},ranges:o})})}},20934:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return M}});var n,o=t(67294),i=t(4942),a=t(55619),c={automata:{name:"stories_movies"},page:{title:"Movies",description:"a dashboard with information from movies, how they are segmented, ratings and other interesting data",url:function(){return"/movies"}},banner:{showData:!1}},s=t(52651),u=(t(23275),t(14308)),l=t(34532),d=t(66432),f=t(89441),p=t(85893),b=function(e){var r=(0,o.useState)(null),t=r[0],n=r[1],i=e.data,a=e.loading,c=i||{},b=c.total,g=(c.awards,c.writers),j=c.actors,O=c.producers,y=c.directors,v=c.countries,h=c.duration,x=c.genres,m=c.production,w=c.ratings,P=c.releaseYear,Z=c.type;return(0,p.jsxs)(u.Z,{spacing:2,children:[(0,p.jsx)(d.Z,{query:t}),(0,p.jsx)(l.Dx,{children:"general"}),(0,p.jsx)(s.Z,{justifyContent:"center",fill:!0,children:(0,f.K)(a,"movies",b,"local_movies")}),(0,p.jsx)(l.Dx,{children:"segments"}),(0,p.jsxs)(s.Z,{justifyContent:"center",fill:!0,children:[(0,f.q)(a,"type",Z,[]),(0,f.q)(a,"genre",x,[],(function(e,r,t){var o;switch(t){case"genre":o={op:"eq",field:"genres",value:e.label}}n({op:o,title:"".concat(r,": ").concat(e.label),type:"movie"})}),"genre"),(0,f.q)(a,"countries",v,[10]),(0,f.q)(a,"ratings",w,[]),(0,f.q)(a,"released",P,[]),(0,f.q)(a,"duration",h,[10]),(0,f.q)(a,"production",m,[])]}),(0,p.jsx)(l.Dx,{children:"crew per movie"}),(0,p.jsxs)(s.Z,{justifyContent:"center",fill:!0,children:[(0,f.q)(a,"actors",j,[10,50,250,500]),(0,f.q)(a,"directors",y,[10,50,100,250,500]),(0,f.q)(a,"producers",O,[10,50,100,250,500]),(0,f.q)(a,"writers",g,[10,50,100,250,500])]})]})},g=t(15861),j=t(87757),O=t.n(j),y=t(24268),v=t(16161),h=(t(11163),t(30168)),x=t(54397),m=t(74273);function w(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function P(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?w(Object(t),!0).forEach((function(r){(0,i.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):w(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var Z,D=(0,x.Ps)(n||(n=(0,h.Z)(["\n  query GetData\n  {\n    dashboardMovies {\n      total\n      type\n      releaseYear\n      duration\n      genres\n      awards\n      countries\n      ratings\n      production\n      boxOffice\n      cast\n      directors\n      producers\n      writers\n    }\n  }\n"])));function E(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function S(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?E(Object(t),!0).forEach((function(r){(0,i.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):E(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var q=c.automata.name,k=(0,y.hg)("".concat(q,"/fetchData"),function(){var e=(0,g.Z)(O().mark((function e(r,t){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.dispatch(N(r)),"banner"===r.renderer){e.next=7;break}return e.next=4,(0,m.h)(D,{},(function(e){return P(P({},e),{},{data:e.data.dashboardMovies})}));case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0={data:null,loading:!1,error:null};case 8:return e.abrupt("return",e.t0);case 9:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}()),_=(0,y.oM)({name:q,initialState:{params:{renderer:null},data:null,loading:!0,error:null},reducers:{setParams:function(e,r){e.params=S(S({},e.params),r.payload)}},extraReducers:(Z={},(0,i.Z)(Z,k.pending,(function(e,r){e.data=null,e.loading=!0,e.error=""})),(0,i.Z)(Z,k.fulfilled,(function(e,r){var t=r.payload,n=t.loading,o=t.error,i=t.data;e.data=i,e.loading=n,e.error=o})),(0,i.Z)(Z,k.rejected,(function(e,r){var t=r.error;e.data=[],e.loading=!1,e.error=t})),Z)});v.h.reducerManager.add(q,_.reducer);_.reducer;var N=_.actions.setParams;function C(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function $(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?C(Object(t),!0).forEach((function(r){(0,i.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):C(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function I(e){return(0,p.jsx)(a.Z,{params:$($({},e),{},{render:"page"}),config:c,fetch:function(e){return k($({},e))},dashboard:function(e){var r=e.data,t=e.loading;return(0,p.jsx)(b,{data:r,loading:t})}})}var M=function(e){return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(I,{breadcrumbs:"/movies"})})}},94624:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/movies",function(){return t(20934)}])}},function(e){e.O(0,[6499,5685,5218,3128,4471,1216,2328,4467,8969,3214,4197,4999,6627,9709,9598,9774,2888,179],(function(){return r=94624,e(e.s=r);var r}));var r=e.O();_N_E=r}]);