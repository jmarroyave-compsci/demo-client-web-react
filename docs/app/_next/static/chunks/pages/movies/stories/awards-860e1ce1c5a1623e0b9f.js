(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5461],{67247:function(e,r,t){"use strict";t.d(r,{C:function(){return u}});t(67294);var n=t(29602),a=t(50367),i=t(58862),o=t(43826),c=t(85893),s=(0,n.ZP)("div")({padding:0,margin:"0 0 0.5rem 0"});function u(e){var r=e.data,t=(e.loading,e.mini),n=function(e,r){for(var t="",n=[],a=[],u=0,d=function(e){return"".concat(e.entity," ").concat(e.won?"\u2713":"")},l=0;l<e.length;l++){var f,p=e[l];t!==p.category&&(n.length>0&&a.push((0,c.jsx)(s,{children:r?n.slice(0,2):n},u++)),n=[],t=p.category,n.push((0,c.jsx)(i.x4,{children:t.toUpperCase()},u++)));var y=p.entityType?p.entityType:null!==(f=p.entityId)&&void 0!==f&&f.startsWith("nm")?"person":"movie";n.push((0,c.jsx)(i.VY,{children:p.entityId?(0,c.jsx)(o.Z,{type:y,id:p.entityId,children:d(p)}):d(p)},u++))}n.length>0&&a.push((0,c.jsx)(s,{children:n},u++));return r?a.slice(0,3):a}(r,t);return n=t?n:(0,c.jsx)(a.RQ,{children:n}),(0,c.jsx)(c.Fragment,{children:n})}},18794:function(e,r,t){"use strict";t.d(r,{E:function(){return l},i:function(){return p}});var n,a,i=t(30168),o=t(4942),c=t(54397),s=t(74273);t(75679),t(85639);function u(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function d(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?u(Object(t),!0).forEach((function(r){(0,o.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var l=function(e){var r=e.entity,t=e.year,n=e.page;return(0,s.h)(f(),{entity:r,year:parseInt(t),page:parseInt(n)},(function(e){return d(d({},e),{},{data:e.data.storyAwards})}))},f=function(){return(0,c.Ps)(n||(n=(0,i.Z)(["\nquery awards($year: Int, $page: Int) {\n  storyAwards(year: $year, page: $page) {\n    festival {\n      id: _id\n      name\n      image{\n        poster\n      }\n    }\n    year\n    awarded{\n      category\n      entity\n      won\n      entityId: entity_id\n    }\n  }\n}\n"])))},p=function(e){var r=e.id,t=e.year;return(0,s.h)(y(),{festival:r,year:parseInt(t)},(function(e){return d(d({},e),{},{data:e.data.storyAwards[0]})}))},y=function(){return(0,c.Ps)(a||(a=(0,i.Z)(["\nquery award($festival: String, $year: Int) {\n  storyAwards(festival: $festival, year: $year) {\n    festival {\n      id: _id\n      name\n      image{\n        poster\n      }          \n    }\n    year\n    awarded{\n      category\n      entity\n      won\n      entityId: entity_id\n    }\n  }\n}\n"])))}},43826:function(e,r,t){"use strict";t(67294);var n=t(49896),a=t(55476),i=t(44898),o=t(62226),c=t(11106),s=t(85893);r.Z=function(e){var r=e.id,t=e.type,u=e.children,d=e.box;switch(t){case"movie":return(0,s.jsx)(n.Z,{box:d,id:r,children:u});case"person":return(0,s.jsx)(a.Z,{box:d,id:r,children:u});case"podcast":return(0,s.jsx)(i.Z,{box:d,id:r,children:u});case"tv-show":return(0,s.jsx)(o.Z,{box:d,id:r,children:u});case"video-game":return(0,s.jsx)(c.Z,{box:d,id:r,children:u})}return(0,s.jsxs)("div",{children:["ENTITY ",t," NOT FOUND"]})}},42341:function(e,r,t){"use strict";t(67294);var n=t(89260),a=t(85893);r.Z=function(e){var r=e.id,t=e.children,i=e.box;return(0,a.jsx)(n.Z,{box:i,to:"/movies/festivals/".concat(r),children:t})}},49896:function(e,r,t){"use strict";t(67294);var n=t(89260),a=t(85893);r.Z=function(e){var r=e.id,t=(e.entity,e.children),i=e.box;return r?(0,a.jsx)(n.Z,{box:i,border:!1,to:"/movies/".concat(r),children:t}):t}},55476:function(e,r,t){"use strict";t(67294);var n=t(89260),a=t(85893);r.Z=function(e){var r=e.id,t=(e.entity,e.children),i=e.box;return r?(0,a.jsx)(n.Z,{box:i,border:!1,to:"/people/".concat(r),children:t}):t}},44898:function(e,r,t){"use strict";t(67294);var n=t(89260),a=t(85893);r.Z=function(e){var r=e.id,t=(e.entity,e.children),i=e.box;return(0,a.jsx)(n.Z,{box:i,border:!0,to:"/podcasts/".concat(r),children:t})}},62226:function(e,r,t){"use strict";t(67294);var n=t(89260),a=t(85893);r.Z=function(e){var r=e.id,t=(e.entity,e.children),i=e.box;return(0,a.jsx)(n.Z,{box:i,border:!1,to:"/tv-shows/".concat(r),children:t})}},11106:function(e,r,t){"use strict";t(67294);var n=t(89260),a=t(85893);r.Z=function(e){var r=e.id,t=(e.entity,e.children),i=e.box;return(0,a.jsx)(n.Z,{box:i,border:!1,to:"/video-games/".concat(r),children:t})}},22575:function(e,r,t){"use strict";t.d(r,{Z:function(){return q}});var n,a=t(4942),i=t(67294),o=t(55619),c={automata:{name:"stories_awards"},page:{title:"Awards",description:"search and visualize the award's information from the Oscars, Golden Globes, Emmys and many more festivals across the world",url:function(e){var r=e.entity,t=e.year,n=e.page;return"/".concat(r,"/stories/awards?year=").concat(t,"&page=").concat(n)}},banner:{showData:!0}},s=t(15861),u=t(87757),d=t.n(u),l=t(24268),f=t(16161),p=t(11163),y=t(18794);function b(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function v(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?b(Object(t),!0).forEach((function(r){(0,a.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):b(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var g=c.automata.name,j=(0,l.hg)("".concat(g,"/fetchData"),function(){var e=(0,s.Z)(d().mark((function e(r,t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dispatch(h(r)),e.next=3,y.E(r);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}()),O=(0,l.oM)({name:g,initialState:{params:{renderer:null,year:null,entity:null,page:null},data:null,loading:!0,error:null},reducers:{setParams:function(e,r){var t,n;e.params=v(v({},e.params),r.payload),e.params.page=null!==(t=null===(n=e.params)||void 0===n?void 0:n.page)&&void 0!==t?t:1,"banner"!==e.params.renderer&&p.default.push("".concat(c.page.url(e.params)),null,{shallow:!0})}},extraReducers:(n={},(0,a.Z)(n,j.pending,(function(e,r){e.data=null,e.loading=!0,e.error=""})),(0,a.Z)(n,j.fulfilled,(function(e,r){var t=r.payload,n=t.loading,a=t.error,i=t.data;e.data=i,e.loading=n,e.error=a})),(0,a.Z)(n,j.rejected,(function(e,r){var t=r.error;e.data=[],e.loading=!1,e.error=t})),n)});f.h.reducerManager.add(g,O.reducer);O.reducer;var h=O.actions.setParams,m=t(43332),w=(t(43826),t(42341)),x=t(57435),P=(t(59231),t(82356),t(67247)),Z=t(85893);function D(e){var r=e.entity,t=e.year,n=e.festival,a=e.image,i=e.awarded;return(0,Z.jsx)(x.Z,{box:!0,id:n.id,year:t,entity:r,children:(0,Z.jsx)(m.Z,{image:null===a||void 0===a?void 0:a.poster,text:(0,Z.jsx)(P.C,{data:i,mini:!0}),title:(0,Z.jsx)(w.Z,{id:n.id,children:n.name}),subtitle:t})})}var E=t(14308),S=t(72478),_=t(78051),I=t(50367);function C(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function k(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?C(Object(t),!0).forEach((function(r){(0,a.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):C(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function N(e){var r=e.onChange,t=(0,i.useMemo)((function(){return[{label:"Movies",id:"movies"}]}),[]),n=(0,i.useMemo)((function(){return function(){for(var e=[],r=(new Date).getFullYear();r>1920;r--)e.push({label:r.toString(),id:r.toString()});return e}()}),[]),a=(0,i.useState)(t.find((function(r){return r.id==e.entity}))),o=a[0],c=(a[1],(0,i.useState)(n.find((function(r){return r.id==e.year})))),s=c[0],u=c[1],d=function(e,t){r&&r(e.id,t.id)};return(0,Z.jsx)(I.RQ,{children:(0,Z.jsx)(E.Z,{spacing:2,children:(0,Z.jsx)(_.Z,{id:"year",disableClearable:!0,options:n,value:s,onChange:function(e,r){d(r,o),u(r)},sx:{width:300},renderInput:function(e){return(0,Z.jsx)(S.Z,k(k({},e),{},{label:"Year"}))}})})})}var T=t(50789);var $=function(e){var r=e.data,t=e.loading,n=e.fetch,a=e.params,o=e.item,c=(0,i.useState)(a.year),s=c[0],u=c[1],d=(0,i.useState)(a.entity),l=d[0],f=d[1],p=a.page;return(0,i.useEffect)((function(){u(a.year),f(a.entity)}),[a]),(0,Z.jsxs)(E.Z,{children:[!t&&(0,Z.jsx)(N,{year:s,entity:l,onChange:function(e,r){u(e),f(r),window.scrollTo(0,0),n({year:e,page:p})}}),(0,Z.jsx)(T.Z,{data:r,loading:t,item:o,page:e.params.page,params:a,onPageChange:function(e){return n({year:s,page:e})}})]})};function A(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function M(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?A(Object(t),!0).forEach((function(r){(0,a.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):A(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function q(e){return(0,Z.jsx)(o.Z,{params:e,config:c,fetch:function(e){return j(M({},e))},item:function(r){return(0,Z.jsx)(D,M(M({full:!0},r),{},{entity:e.entity}))},mainCol:function(e){return(0,Z.jsx)($,M({},e))}})}},49631:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return d}});t(67294);var n=t(11163),a=t(4942),i=t(22575),o=t(85893);function c(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function s(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?c(Object(t),!0).forEach((function(r){(0,a.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var u=function(e){return(0,o.jsx)(i.Z,s(s({},e),{},{render:"page"}))},d=function(e){var r=(0,n.useRouter)(),t=r.query?r.query:{},a=t.year,i=t.page;return i=i?parseInt(i):1,a=a||2017,(0,o.jsx)(u,{breadcrumbs:"/movies/stories/awards",year:a,entity:"movies",page:i})}},37e3:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/movies/stories/awards",function(){return t(49631)}])}},function(e){e.O(0,[6499,5685,3128,5218,4471,4197,4999,2282,9774,2888,179],(function(){return r=37e3,e(e.s=r);var r}));var r=e.O();_N_E=r}]);