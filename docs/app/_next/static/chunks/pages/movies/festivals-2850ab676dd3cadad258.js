(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4537],{85:function(e,t,r){"use strict";var n=r(67294),a=r(42145),o=r(77078),c=r(39704),i=r(19016),u=r(85893);function s(e){var t=(0,c.I0)(),r=(0,c.v9)((function(e){return e.dashboard})),s=e.query,l=function(e){return{op:s.op,type:s.type,page:e}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return t((0,o.rQ)(l(e)))};return(0,n.useEffect)((function(){null!=s&&p()}),[s]),(0,n.useEffect)((function(){null!=s&&null!=r&&t((0,i.wg)({title:s.title,children:(0,u.jsx)(a.Z,{page:r.params.page,loading:r.loading,data:r.data,type:s.type,format:"hlist",onPageChange:function(e){return p(e)},pageSize:4,noPaging:!1})}))}),[r]),(0,n.useEffect)((function(){r&&t((0,i.K4)({status:r.loading,sender:"dashboard"}))}),[null===r||void 0===r?void 0:r.loading]),null}s.propTypes={},t.Z=s},15313:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return N}});var n=r(67294),a=r(11163),o=r(4942),c=r(55619),i={automata:{name:"page_movies_festivals"},page:{title:"Movie Festivals",description:"",url:function(){return"/movies/festivals"}},banner:{showData:!0}},u=r(52651),s=(r(23275),r(14308)),l=r(34532),p=r(85),f=r(45787),d=r(85893);var g,b=function(e){var t=(0,n.useState)(null),r=t[0],a=t[1],o=e.data,c=e.loading,i=o||{},g=(i.startYear,i.startDecade),b=i.countries,v=i.continent,O=i.total,y=function(e,t){var r=function(e,t){var r;switch(console.log("query",t),t){case"country":r={op:"eq",field:"country",value:e.label.toLowerCase()};break;case"continent":r={op:"eq",field:"continent",value:e.label};break;case"started":r={op:"range",field:"startYear",value:[parseInt(e.label),parseInt(e.label)+10]}}return r}(e,t);a({op:r,title:"".concat(t,": ").concat(e.label),type:"movieFestival"})};return(0,d.jsxs)(s.Z,{spacing:2,children:[(0,d.jsx)(p.Z,{query:r}),(0,d.jsx)(l.Dx,{children:"general"}),(0,d.jsx)(u.Z,{justifyContent:"center",fill:!0,children:(0,f.K)(c,"movie festivals",O,"festival")}),(0,d.jsx)(l.Dx,{children:"segments"}),(0,d.jsxs)(u.Z,{justifyContent:"center",fill:!0,children:[(0,f.q)(c,"started",g,[],y),(0,f.q)(c,"country",b,[5],y),(0,f.q)(c,"continent",v,[],y)]})]})},v=r(15861),O=r(87757),y=r.n(O),j=r(24268),h=r(80105),m=r(85639);function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var D=i.automata.name,x=(0,j.hg)("".concat(D,"/fetchData"),function(){var e=(0,v.Z)(y().mark((function e(t,r){var n;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.dispatch(Z(t)),e.next=3,m.AK();case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),E=(0,j.oM)({name:D,initialState:{params:{renderer:null,page:null},data:null,loading:!0,error:null},reducers:{setParams:function(e,t){e.params=P(P({},e.params),t.payload),"banner"!=e.params.renderer&&1!=e.params.page&&a.default.push("".concat(i.page.url(),"/?page=").concat(e.params.page),null,{shallow:!0})}},extraReducers:(g={},(0,o.Z)(g,x.pending,(function(e,t){e.data=null,e.loading=!0,e.error=""})),(0,o.Z)(g,x.fulfilled,(function(e,t){var r=t.payload,n=r.loading,a=r.error,o=r.data;e.data=o,e.loading=n,e.error=a})),(0,o.Z)(g,x.rejected,(function(e,t){var r=t.error;e.data=[],e.loading=!1,e.error=r})),g)});h.h.reducerManager.add(D,E.reducer);E.reducer;var Z=E.actions.setParams;function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){return(0,d.jsx)(c.Z,{params:e,config:i,fetch:function(e){return x(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e))},dashboard:function(e){var t=e.data,r=e.loading;return(0,d.jsx)(b,{data:t,loading:r})}})}function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var C=function(e){return(0,d.jsx)(k,S(S({},e),{},{render:"page"}))},N=function(e){var t=(0,a.useRouter)(),r=(t.query?t.query:{}).page;return r=r?parseInt(r):1,(0,d.jsx)(C,{breadcrumbs:"/movies/festivals",page:r})}},9849:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/movies/festivals",function(){return r(15313)}])}},function(e){e.O(0,[7146,4290,4563,5218,6756,1216,525,2328,5019,9283,4197,7338,7923,909,2401,9943,9471,67,9774,2888,179],(function(){return t=9849,e(e.s=t);var t}));var t=e.O();_N_E=t}]);