"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1388],{1015:function(e,r,t){t.d(r,{S:function(){return p},E:function(){return f}});var n,o,i=t(30168),c=t(4942),a=t(54397),u=t(42535);function s(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function l(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?s(Object(t),!0).forEach((function(r){(0,c.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var p=function(e){var r=e.topic,t=e.entity;return(0,u.h)(d({entity:t}),{topic:r},(function(e){return l(l({},e),{},{data:e.data.storyTopic})}))},d=function(e){var r=e.ENTITY;return(0,a.Ps)(n||(n=(0,i.Z)(["\nquery ","_topic($topic: String!){\n  storyTopic(topic: $topic){\n    year\n    genre\n  }\n}\n"])),r)},f=function(e){var r=e.page,t=e.entity,n=e.genre,o=e.decade;return(0,u.h)(g({ENTITY:t.replace(/-/g,"_")}),{page:r,year:parseInt(o),genre:n},(function(e){return l(l({},e),{},{data:e.data.storyTopics})}))},g=function(e){var r=e.ENTITY;return(0,a.Ps)(o||(o=(0,i.Z)(["\nquery ","_topics($page: Int, $genre: String, $year: Int){\n  storyTopics(page: $page, genre: $genre, year: $year){\n    year\n    genre\n    max\n    min\n    words{\n      n\n      p\n    }\n  }\n}\n"])),r)}},26989:function(e,r,t){var n=t(4942),o=t(67294),i=t(26447),c=t(90461),a=t(9573),u=t(38732),s=t(98102),l=t(56011),p=t(3694),d=t(85893);function f(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}r.Z=function(e){var r,t,g,b,y=e.onExit,O=e.topic,j=null!==(r=e.data)&&void 0!==r&&r.records?e.data.records:null===(t=e.data)||void 0===t||null===(g=t.topic)||void 0===g?void 0:g.data,h=null===(b=e.data)||void 0===b?void 0:b.records,v=(0,o.useState)({}),m=v[0],w=v[1],x=function(e,r){return r?"rgba(0,0,0,0.4)":e%2==0?"rgba(0,0,0,0.1)":"inherit"};return(0,o.useEffect)((function(){if(j){var e={},r={};j.forEach((function(t){e[t.year]||(e[t.year]={}),r[t.genre]||(r[t.genre]={})}));var t={};Object.keys(r).forEach((function(r){return t[r]=function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?f(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({},e)})),j.forEach((function(e){t[e.genre][e.year]=1})),w(t)}}),[j]),(0,d.jsxs)("div",{style:{height:"100%",display:"flex"},children:[!h&&(0,d.jsx)(i.Z,{direction:"row",style:{marginBottom:"1rem"},children:(0,d.jsx)(c.Z,{label:O.replace(/,/g," "),onDelete:y})}),(0,d.jsx)("div",{style:{fontSize:"0.6rem",width:"100%",maxHeight:"600px",flex:1,overflow:"auto"},children:(0,d.jsxs)(a.Z,{size:"small",stickyHeader:!0,children:[(0,d.jsx)(l.Z,{children:(0,d.jsxs)(p.Z,{children:[(0,d.jsx)(s.Z,{children:"\xa0"}),Object.keys(m).slice(0,1).map((function(e){return Object.keys(m[e]).map((function(e,r){return(0,d.jsx)(s.Z,{align:"center",children:(t=e,n=r,"00"==t.slice(2,4)||0==n?t:t.slice(2,4))},e);var t,n}))})),(0,d.jsx)(s.Z,{children:"\xa0"})]})}),(0,d.jsx)(u.Z,{children:Object.keys(m).map((function(r,t){return(0,d.jsxs)(p.Z,{style:{backgroundColor:x(t,!1)},children:[(0,d.jsx)(s.Z,{style:{backgroundColor:x(0,r==e.genre)},children:r}),Object.keys(m[r]).map((function(t){return(0,d.jsx)(s.Z,{style:{backgroundColor:x(0,t==e.year||r==e.genre)},align:"center",children:1==m[r][t]?"\u2713":" "},t)})),(0,d.jsx)(s.Z,{style:{backgroundColor:x(0,r==e.genre)},children:r})]},t)}))})]})})]})}},23620:function(e,r,t){t.d(r,{Z:function(){return v}});var n=t(4942),o=t(67294),i=t(29602),c=t(2734),a=t(97005),u=t(74187),s=t(14308),l=t(28973),p=t(74035),d=t(85893);function f(e){return(0,d.jsx)(p.X,{children:(0,d.jsx)(s.Z,{spacing:1,sx:{padding:"1rem",display:"flex",flexGrow:1},children:(0,d.jsx)(l.Z,{variant:"rectangular",height:150})})})}function g(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function b(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?g(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):g(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var y=(0,i.ZP)("span")((function(e){var r=e.fontSize,t=e.color,n=e.backgroundColor;e.theme;return{border:"1px solid rgba(0,0,0,0.2)",padding:"0.5rem",marginRight:"1rem",marginBottom:"0.25rem",fontSize:"".concat(r),color:"".concat(t),backgroundColor:"".concat(n),cursor:"pointer",borderRadius:"5px"}})),O=function(e){e.data;var r=e.direction,t=e.words,n=e.max,o=e.min,i=e.onClick,c=e.wordName,u=e.wordCount;return(0,d.jsx)(a.Z,{gradient:!1,direction:r,pauseOnHover:!0,pauseOnClick:!0,children:t.map((function(e,r){return(0,d.jsx)(y,b(b({},h(u(e),n,o)),{},{fontSize:j(u(e),n,o),onClick:function(){return i(c(e).toLowerCase())},children:c(e).toLowerCase()}),r)}))})},j=function(e,r,t){e+=10;for(var n=[1,2,3,5,8,12,16,21,34,55],o=(r-t)/n[n.length-1],i=Math.floor(e/o),c=0;c<n.length;c++){if(i<n[c]){i=c;break}}return"1em"},h=function(e,r,t){for(var n=(0,c.Z)(),o=[3,5,8,13,21,34,55],i=(r-t)/o[o.length-1],a=Math.floor(e/i),s=0;s<o.length;s++)if(a<=o[s]){a=s;break}return a=a>o.length-1?o.length-1:a,(0,u.$)(n,a)},v=function(e){var r=e.data,t=e.onTopicClick,n=e.loading,i=(e.wordName,e.wordCount);if(null==r||n)return(0,d.jsx)(f,{});var c="i-".repeat(3).split("-"),a=Math.floor(r.length/4),u=i(r[0]),s=i(r[r.length-1]);return(0,d.jsx)("div",{children:c.map((function(n,i){return(0,o.createElement)(O,b(b({},e),{},{onClick:t,max:u,min:s,key:i,words:r.slice(a*i,a*(i+1)),direction:i%2==0?"left":"right"}))}))})}},11388:function(e,r,t){t.d(r,{Z:function(){return U}});var n,o=t(4942),i=t(67294),c=t(55619),a={automata:{name:"stories-remakes"},page:{title:"Remakes",description:"",url:function(e){var r=e.entity;return"/".concat(r,"/stories/remakes")}},banner:{showData:!0,renderer:"marquee"}},u=t(15861),s=t(87757),l=t.n(s),p=t(24268),d=t(80105),f=t(11163),g=t(30168),b=t(54397),y=t(42535),O=t(75679);function j(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function h(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?j(Object(t),!0).forEach((function(r){(0,o.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):j(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var v,m=function(e){var r=e.page,t=e.entity,n=e.extended,o=e.limit;return(0,y.h)(w({ENTITY:t.replace(/-/g,"_")}),{page:r,extended:n,limit:o},(function(e){return h(h({},e),{},{data:e.data.storyRemakes})}))},w=function(e){var r=e.ENTITY;return(0,b.Ps)(n||(n=(0,g.Z)(["\n","\nquery ","_remakes($page: Int, $limit: Int, $extended: Boolean){\n  storyRemakes(page: $page, limit : $limit, extended : $extended){\n    name\n    count\n    recs{\n      id: _id\n      releaseYear\n      directed{\n        id{\n          ...PersonTinyFragment\n        } \n      }\n    }\n  }\n}\n"])),O.T4,r)},x=t(1015);function P(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function k(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?P(Object(t),!0).forEach((function(r){(0,o.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):P(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var Z=a.automata.name,E=(0,p.hg)("".concat(Z,"/fetchTopic"),function(){var e=(0,u.Z)(l().mark((function e(r,t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,x.S)(r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}()),T=(0,p.hg)("".concat(Z,"/fetchData"),function(){var e=(0,u.Z)(l().mark((function e(r,t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.dispatch(C(r));case 2:return r.extended="banner"!==r.renderer,r.limit="banner"===r.renderer?100:10,e.next=6,m(r);case 6:return n=e.sent,"banner"===r.renderer&&(n.data=[{words:n.data}]),e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}()),D=(0,p.oM)({name:Z,initialState:{params:{renderer:null,entity:null,page:null},data:null,loading:!0,error:null,topic:{data:null,loading:!0,error:null}},reducers:{setParams:function(e,r){e.params=k(k({},e.params),r.payload),"banner"!=e.params.renderer&&1!=e.params.page&&f.default.push("".concat(a.page.url(e.params),"?page=").concat(e.params.page),null,{shallow:!0})}},extraReducers:(v={},(0,o.Z)(v,T.pending,(function(e,r){e.data=null,e.loading=!0,e.error=""})),(0,o.Z)(v,T.fulfilled,(function(e,r){var t=r.payload,n=t.loading,o=t.error,i=t.data;e.data=i,e.loading=n,e.error=o})),(0,o.Z)(v,T.rejected,(function(e,r){var t=r.error;e.data=[],e.loading=!1,e.error=t})),(0,o.Z)(v,E.pending,(function(e,r){e.topic.data=null,e.topic.loading=!0,e.topic.error=""})),(0,o.Z)(v,E.fulfilled,(function(e,r){var t=r.payload,n=t.loading,o=t.error,i=t.data;e.topic.data=i,e.topic.loading=n,e.topic.error=o})),(0,o.Z)(v,E.rejected,(function(e,r){var t=r.error;e.topic.data=[],e.topic.loading=!1,e.topic.error=t})),v)});d.h.reducerManager.add(Z,D.reducer);D.reducer;var C=D.actions.setParams,S=t(43332),I=t(49896),$=(t(59231),t(19888),t(82356)),N=t(85893);function _(e){var r=e.image,t=e.name,n=(e.count,e.recs);return(0,N.jsx)(S.Z,{image:r?r.poster:r,text:(0,N.jsx)("div",{children:n&&n.slice(0,3).map((function(e,r){var t,n,o;return null!==(t=e.directed[0])&&void 0!==t&&t.id?(0,N.jsx)($.Z,{title:e.releaseYear,value:(0,N.jsx)(L,{id:e.id,children:null===(n=e.directed[0])||void 0===n||null===(o=n.id)||void 0===o?void 0:o.name},r)},r):(0,N.jsx)($.Z,{title:"\xa0",value:(0,N.jsx)(L,{id:e.id,children:e.releaseYear},r)},r)}))}),title:t})}function L(e){var r=e.id,t=e.children;return r?(0,N.jsx)(I.Z,{id:r,children:(0,N.jsx)("div",{children:t})}):t}var R=t(39704),Y=(t(2535),t(74035),t(26989)),M=t(23620);function z(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function q(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?z(Object(t),!0).forEach((function(r){(0,o.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):z(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var H={showLines:!0,showTimeline:!1,topic:""};function B(e,r){var t;switch(r.type){case"INIT":return q(q({},e),{},{showLines:!0,showTimeline:!1,topic:""});case"SELECT_WORD":return q(q({},e),{},{showLines:!1,showTimeline:!0,topic:r.payload.topic});case"EXIT_TIMELINE":return q(q({},e),{},{showLines:!0,showTimeline:!1,topic:""});default:throw new Error("operation ".concat(null===(t=r.type)||void 0===t?void 0:t.toUpperCase()," not implemented"))}}var X=function(e){var r=e.props,t=r.words,n=(r.genre,r.year,(0,i.useReducer)(B,H)),o=n[0],c=n[1];return(0,N.jsxs)("div",{children:[(0,N.jsx)(M.Z,{data:t,onTopicClick:function(r){e.onTopicClick&&e.onTopicClick(r),c({type:"SELECT_WORD",payload:{topic:r}})},wordName:function(e){return e.name},wordCount:function(e){return e.count}}),(0,N.jsx)("br",{}),o.topic&&(0,N.jsx)(Y.Z,{topic:o.topic,data:e.topicData,onExit:function(e){c({type:"EXIT_TIMELINE"})}})]})},W=function(e){var r=(0,R.I0)(),t=(0,R.v9)((function(e){return e["stories-remakes"]}));e.max,e.min,e.words;return(0,N.jsx)("div",{style:{padding:"1rem",width:"100%"},children:(0,N.jsx)(X,{onTopicClick:function(t){t=t.toLowerCase().replace(/ /g,","),e.onTopicClick&&e.onTopicClick(t),r(E({entity:"movie",topic:t}))},props:e,topicData:t})})};function F(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function G(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?F(Object(t),!0).forEach((function(r){(0,o.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):F(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function U(e){return(0,N.jsx)(c.Z,{params:e,config:a,fetch:function(e){return T(G({},e))},item:function(r){return"banner"===e.render?(0,N.jsx)(W,G({},r)):(0,N.jsx)(_,G({full:!0},r))}})}},19888:function(e,r,t){t.d(r,{Rx:function(){return c},T5:function(){return a},et:function(){return u}});var n=t(92077),o=t.n(n),i=t(24417),c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0a";return o()(Number(e)).format(r)},a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return i.default.toSentenceCase(e)},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return i.default.toHeaderCase(e)}},74187:function(e,r,t){t.d(r,{$:function(){return c}});t(67294);var n=t(47036),o=t(6767),i=t.n(o);t(7269);function c(e,r){var t="dark"===e.palette.mode;r=r>9?9:r,r=t?10-r:r;var o=i()(10==r||0==r?t?"black":"white":n.Z[100*r]),c=(t?o.darken(.75):o.lighten(.75)).negate();return{backgroundColor:o.fade(.5).rgb().toString(),color:c.rgb().toString()}}}}]);