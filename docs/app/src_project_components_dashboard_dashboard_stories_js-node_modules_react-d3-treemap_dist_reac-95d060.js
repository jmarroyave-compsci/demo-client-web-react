"use strict";
(self["webpackChunkreact"] = self["webpackChunkreact"] || []).push([["src_project_components_dashboard_dashboard_stories_js-node_modules_react-d3-treemap_dist_reac-95d060"],{

/***/ "./src/project/components/charts/tree_map.js":
/*!***************************************************!*\
  !*** ./src/project/components/charts/tree_map.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_d3_treemap__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-d3-treemap */ "./node_modules/react-d3-treemap/dist/react.d3.treemap.js");
/* harmony import */ var react_d3_treemap__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_d3_treemap__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_d3_treemap_dist_react_d3_treemap_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-d3-treemap/dist/react.d3.treemap.css */ "./node_modules/react-d3-treemap/dist/react.d3.treemap.css");
/* harmony import */ var js_convert_case__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! js-convert-case */ "./node_modules/js-convert-case/index.js");
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }







var TreeMap = /*#__PURE__*/function (_React$Component) {
  _inherits(TreeMap, _React$Component);

  var _super = _createSuper(TreeMap);

  function TreeMap(props) {
    var _this;

    _classCallCheck(this, TreeMap);

    _this = _super.call(this, props);
    _this.state = {
      width: 100,
      data: {},
      dataRef: null
    };
    _this.ref = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createRef();
    return _this;
  }

  _createClass(TreeMap, [{
    key: "componentDidUpdate",
    value: function componentDidUpdate() {
      var width = this.ref.current ? this.ref.current.offsetWidth : this.state.width;

      if (width !== this.state.width) {
        this.setState({
          width: width
        });
      }

      var data = this.props.data;

      if (JSON.stringify(this.props.data) !== JSON.stringify(this.state.dataRef)) {
        this.setState({
          data: this.parseMapToData(this.props.title, data),
          dataRef: data
        });
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props = this.props,
          loading = _this$props.loading,
          error = _this$props.error,
          title = _this$props.title;
      var _this$state = this.state,
          data = _this$state.data,
          width = _this$state.width;
      if (loading || !data.children) return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("p", null, "Loading...");
      if (error) return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("p", null, "Error ", error.toString());
      if (!data) return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("p", null, "no data");
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
        id: "___",
        ref: this.ref
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement((react_d3_treemap__WEBPACK_IMPORTED_MODULE_2___default()), {
        id: "myTreeMap",
        width: width,
        height: (width * 0.5).toFixed(0),
        data: data,
        levelsToDisplay: 1,
        nodeStyle: {
          paddingLeft: 5,
          paddingRight: 5
        }
      }));
    }
  }, {
    key: "parseMapToData",
    value: function parseMapToData(title, data) {
      if (!data) return null;
      var resp = [];
      var ranges = [10, 25, 100];
      var others = {};
      Object.keys(data).forEach(function (c) {
        var value = data[c];
        var obj = {
          name: c.startsWith("_") ? c.substring(1) : js_convert_case__WEBPACK_IMPORTED_MODULE_4__["default"].toHeaderCase(c),
          value: value
        };

        for (var i = 0; i < ranges.length; i++) {
          var range = ranges[i];
          if (value > range) continue;
          if (!others[range]) others[range] = {
            name: "".concat(i === 0 ? 1 : ranges[i - 1] + 1, "-").concat(range),
            value: 0,
            children: []
          };
          others[range].children.push(obj);
          return;
        }

        resp.push(obj);
      });
      Object.keys(others).forEach(function (k) {
        resp.push(others[k]);
      });
      return {
        name: title,
        children: resp
      };
    }
  }]);

  return TreeMap;
}(react__WEBPACK_IMPORTED_MODULE_0__.Component);

TreeMap.propTypes = {
  data: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().object),
  title: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string)
};
TreeMap.defaultProps = {
  data: {},
  title: "title"
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (TreeMap);

/***/ }),

/***/ "./src/project/components/dashboard/countries.js":
/*!*******************************************************!*\
  !*** ./src/project/components/dashboard/countries.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Countries)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var components_charts_tree_map__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! components/charts/tree_map */ "./src/project/components/charts/tree_map.js");



var title = "by Country";
function Countries(params) {
  var loading = params.loading,
      error = params.error,
      data = params.data,
      format = params.format;
  if (loading) return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("p", null, "Loading...");
  if (error) return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("p", null, "Error ", error.toString());
  if (!data || data.length === 0) return "NO DATA";
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", null, format === "text" && renderText(data), format === "graph" && renderGraph(title, data));
}

function renderText(data) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("ul", null, Object.keys(data).map(function (country, idxc) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("li", {
      key: idxc
    }, " ", country, " : ", data[country], " ");
  }))));
}

function renderGraph(title, data) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(components_charts_tree_map__WEBPACK_IMPORTED_MODULE_2__["default"], {
    title: title,
    data: data
  });
}

Countries.propTypes = {
  data: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().object),
  format: prop_types__WEBPACK_IMPORTED_MODULE_1___default().oneOf(['text', 'graph'])
};
Countries.defaultProps = {
  data: {},
  format: "text"
};

/***/ }),

/***/ "./src/project/components/dashboard/dashboard.js":
/*!*******************************************************!*\
  !*** ./src/project/components/dashboard/dashboard.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "QRY_DASHBOARD": () => (/* binding */ QRY_DASHBOARD),
/* harmony export */   "default": () => (/* binding */ Dashbaord)
/* harmony export */ });
/* harmony import */ var _countries__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./countries */ "./src/project/components/dashboard/countries.js");
/* harmony import */ var _apollo_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @apollo/client */ "./node_modules/graphql-tag/lib/index.js");
/* harmony import */ var _apollo_client__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @apollo/client */ "./node_modules/@apollo/client/react/hooks/useQuery.js");
var _templateObject;

function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }



var QRY_DASHBOARD = (0,_apollo_client__WEBPACK_IMPORTED_MODULE_1__.gql)(_templateObject || (_templateObject = _taggedTemplateLiteral(["\n  query getDashboard{ \n    dashboard {\n      actors\n      countries\n      directors\n      genres\n      lastUpdate\n      movies\n      people\n      types\n      yearsAdded\n      yearsReleased\n    }\n  }"])));
function Dashbaord() {
  var _useQuery = (0,_apollo_client__WEBPACK_IMPORTED_MODULE_2__.useQuery)(QRY_DASHBOARD),
      loading = _useQuery.loading,
      error = _useQuery.error,
      data = _useQuery.data;

  if (loading) return /*#__PURE__*/React.createElement("p", null, "Loading...");
  if (error) return /*#__PURE__*/React.createElement("p", null, "Error ", error.toString());
  console.log(data.dashboard.countries);
  return /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("h1", null, "Dashboard"), /*#__PURE__*/React.createElement(_countries__WEBPACK_IMPORTED_MODULE_0__["default"], {
    data: data.dashboard.countries,
    format: "graph"
  }));
}

/***/ }),

/***/ "./src/project/components/dashboard/dashboard.stories.js":
/*!***************************************************************!*\
  !*** ./src/project/components/dashboard/dashboard.stories.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   "Controls": () => (/* binding */ Controls)
/* harmony export */ });
/* harmony import */ var _dashboard__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dashboard */ "./src/project/components/dashboard/dashboard.js");
/* harmony import */ var res_mock_data_dashboard_json__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! res/mock-data/dashboard.json */ "./src/project/res/mock-data/dashboard.json");


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
  title: 'Pages/Dashboard'
});

var Template = function Template(args) {
  return /*#__PURE__*/React.createElement(_dashboard__WEBPACK_IMPORTED_MODULE_0__["default"], args);
};

var Controls = Template.bind({});
Controls.args = {
  loading: false
};
Controls.parameters = {
  apolloClient: {
    mocks: [{
      request: {
        query: _dashboard__WEBPACK_IMPORTED_MODULE_0__.QRY_DASHBOARD
      },
      result: res_mock_data_dashboard_json__WEBPACK_IMPORTED_MODULE_1__
    }]
  }
};

/***/ }),

/***/ "./src/project/res/mock-data/dashboard.json":
/*!**************************************************!*\
  !*** ./src/project/res/mock-data/dashboard.json ***!
  \**************************************************/
/***/ ((module) => {

module.exports = JSON.parse('{"data":{"dashboard":{"actors":32600,"countries":{"brazil":88,"mexico":154,"singapore":39,"unitedStates":3297,"turkey":108,"egypt":110,"india":990,"poland":36,"thailand":65,"nigeria":76,"norway":29,"iceland":9,"unitedKingdom":723,"japan":287,"southKorea":212,"italy":90,"canada":412,"indonesia":80,"romania":12,"spain":215,"southAfrica":54,"france":349,"portugal":4,"hongKong":102,"china":147,"germany":199,"argentina":82,"serbia":7,"denmark":44,"kenya":5,"newZealand":28,"pakistan":24,"australia":144,"taiwan":85,"netherlands":45,"philippines":78,"unitedArabEmirates":34,"iran":4,"belgium":85,"israel":26,"uruguay":14,"bulgaria":9,"chile":26,"russia":27,"mauritius":1,"lebanon":26,"colombia":45,"algeria":2,"sovietUnion":3,"sweden":39,"malaysia":26,"ireland":40,"luxembourg":11,"finland":11,"austria":11,"peru":10,"senegal":3,"switzerland":17,"ghana":4,"saudiArabia":10,"armenia":1,"jordan":8,"mongolia":1,"namibia":2,"qatar":7,"vietnam":5,"syria":1,"kuwait":7,"malta":3,"czechRepublic":20,"bahamas":1,"sriLanka":1,"caymanIslands":2,"bangladesh":3,"zimbabwe":3,"hungary":9,"latvia":1,"liechtenstein":1,"venezuela":3,"morocco":6,"cambodia":5,"albania":1,"cuba":1,"nicaragua":1,"greece":10,"croatia":4,"guatemala":2,"westGermany":5,"slovenia":3,"dominicanRepublic":1,"nepal":2,"samoa":1,"azerbaijan":1,"bermuda":1,"ecuador":1,"georgia":2,"botswana":1,"puertoRico":1,"iraq":2,"vaticanCity":1,"angola":1,"ukraine":3,"jamaica":1,"belarus":1,"cyprus":1,"kazakhstan":1,"malawi":1,"slovakia":1,"lithuania":1,"afghanistan":1,"paraguay":1,"somalia":1,"sudan":1,"panama":1,"uganda":1,"eastGermany":1,"montenegro":1},"directors":4324,"genres":{"internationalTvShows":1199,"tvDramas":704,"tvSciFiFantasy":76,"dramas":2106,"internationalMovies":2437,"horrorMovies":312,"actionAdventure":721,"independentMovies":673,"sciFiFantasy":218,"tvMysteries":90,"thrillers":491,"crimeTvShows":427,"docuseries":353,"documentaries":786,"sportsMovies":196,"comedies":1471,"animeSeries":148,"realityTv":222,"tvComedies":525,"romanticMovies":531,"romanticTvShows":333,"scienceNatureTv":85,"movies":56,"britishTvShows":232,"koreanTvShows":150,"musicMusicals":321,"lgbtqMovies":90,"faithSpirituality":57,"kidsTv":414,"tvActionAdventure":150,"spanishLanguageTvShows":147,"childrenFamilyMovies":532,"tvShows":12,"classicMovies":103,"cultMovies":59,"tvHorror":69,"standUpComedyTalkShows":52,"teenTvShows":60,"standUpComedy":329,"animeFeatures":57,"tvThrillers":50,"classicCultTv":27},"lastUpdate":"2021-09-09T18:55:21.456Z","movies":7787,"people":36924,"types":{"tvShow":2410,"movie":5377},"yearsAdded":{"_2003":2,"_2008":3,"_2009":2,"_2010":2,"_2011":13,"_2012":4,"_2013":12,"_2014":25,"_2015":90,"_2016":444,"_2017":1225,"_2018":1686,"_2019":2153,"_2020":2009,"_2021":117},"yearsReleased":{"_1925":1,"_1942":2,"_1943":3,"_1944":3,"_1945":3,"_1946":2,"_1947":1,"_1954":2,"_1955":3,"_1956":2,"_1958":3,"_1959":1,"_1960":4,"_1962":3,"_1963":2,"_1964":1,"_1965":2,"_1966":1,"_1967":5,"_1968":5,"_1969":2,"_1970":2,"_1971":5,"_1972":4,"_1973":10,"_1974":7,"_1975":6,"_1976":9,"_1977":7,"_1978":6,"_1979":11,"_1980":9,"_1981":9,"_1982":15,"_1983":9,"_1984":9,"_1985":9,"_1986":10,"_1987":7,"_1988":16,"_1989":13,"_1990":20,"_1991":17,"_1992":18,"_1993":22,"_1994":16,"_1995":19,"_1996":19,"_1997":30,"_1998":31,"_1999":33,"_2000":34,"_2001":36,"_2002":45,"_2003":49,"_2004":59,"_2005":73,"_2006":85,"_2007":85,"_2008":125,"_2009":137,"_2010":173,"_2011":166,"_2012":219,"_2013":267,"_2014":334,"_2015":541,"_2016":882,"_2017":1012,"_2018":1121,"_2019":996,"_2020":868,"_2021":31}}}}');

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3JjX3Byb2plY3RfY29tcG9uZW50c19kYXNoYm9hcmRfZGFzaGJvYXJkX3N0b3JpZXNfanMtbm9kZV9tb2R1bGVzX3JlYWN0LWQzLXRyZWVtYXBfZGlzdF9yZWFjLTk1ZDA2MC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztJQUVNSzs7Ozs7QUFDSixtQkFBWUMsS0FBWixFQUFtQjtBQUFBOztBQUFBOztBQUNqQiw4QkFBTUEsS0FBTjtBQUNBLFVBQUtDLEtBQUwsR0FBYTtBQUNYQyxNQUFBQSxLQUFLLEVBQUUsR0FESTtBQUVYQyxNQUFBQSxJQUFJLEVBQUUsRUFGSztBQUdYQyxNQUFBQSxPQUFPLEVBQUU7QUFIRSxLQUFiO0FBTUEsVUFBS0MsR0FBTCxnQkFBV1gsNENBQUEsRUFBWDtBQVJpQjtBQVNsQjs7OztXQUVELDhCQUFvQjtBQUNsQixVQUFJUSxLQUFLLEdBQUcsS0FBS0csR0FBTCxDQUFTRSxPQUFULEdBQW1CLEtBQUtGLEdBQUwsQ0FBU0UsT0FBVCxDQUFpQkMsV0FBcEMsR0FBa0QsS0FBS1AsS0FBTCxDQUFXQyxLQUF6RTs7QUFFQSxVQUFJQSxLQUFLLEtBQUssS0FBS0QsS0FBTCxDQUFXQyxLQUF6QixFQUErQjtBQUM3QixhQUFLTyxRQUFMLENBQWM7QUFBQ1AsVUFBQUEsS0FBSyxFQUFFQTtBQUFSLFNBQWQ7QUFDRDs7QUFFRCxVQUFJQyxJQUFJLEdBQUcsS0FBS0gsS0FBTCxDQUFXRyxJQUF0Qjs7QUFDQSxVQUFJTyxJQUFJLENBQUNDLFNBQUwsQ0FBZSxLQUFLWCxLQUFMLENBQVdHLElBQTFCLE1BQW9DTyxJQUFJLENBQUNDLFNBQUwsQ0FBZSxLQUFLVixLQUFMLENBQVdHLE9BQTFCLENBQXhDLEVBQTRFO0FBQzFFLGFBQUtLLFFBQUwsQ0FBYztBQUFDTixVQUFBQSxJQUFJLEVBQUUsS0FBS1MsY0FBTCxDQUFvQixLQUFLWixLQUFMLENB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UjtBQUFBLE1BQWlCQyxLQUFqQixhQUFpQkEsS0FBakI7QUFBQSxNQUF3QlosSUFBeEIsYUFBd0JBLElBQXhCOztBQUVBLE1BQUlXLE9BQUosRUFBYSxvQkFBTyw0Q0FBUDtBQUNiLE1BQUlDLEtBQUosRUFBVyxvQkFBTyx5Q0FBV0EsS0FBSyxDQUFDRSxRQUFOLEVBQVgsQ0FBUDtBQUVYd0MsRUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVl2RCxJQUFJLENBQUN3RCxTQUFMLENBQWVDLFNBQTNCO0FBRUEsc0JBQU8sOENBQ0gsNENBREcsZUFFSCxvQkFBQyxrREFBRDtBQUFXLFFBQUksRUFBRXpELElBQUksQ0FBQ3dELFNBQUwsQ0FBZUMsU0FBaEM7QUFBMkMsVUFBTSxFQUFDO0FBQWxELElBRkcsQ0FBUDtBQUlEOzs7Ozs7Ozs7Ozs7Ozs7OztBQ2hDRDtBQUNBO0FBRUEsaUVBQWU7QUFDYi9DLEVBQUFBLEtBQUssRUFBRTtBQURNLENBQWY7O0FBSUEsSUFBTWtELFFBQVEsR0FBRyxTQUFYQSxRQUFXLENBQUFDLElBQUk7QUFBQSxzQkFBSSxvQkFBQyxrREFBRCxFQUFlQSxJQUFmLENBQUo7QUFBQSxDQUFyQjs7QUFFTyxJQUFNQyxRQUFRLEdBQUdGLFFBQVEsQ0FBQ0csSUFBVCxDQUFjLEVBQWQsQ0FBakI7QUFFUEQsUUFBUSxDQUFDRCxJQUFULEdBQWdCO0FBQ2RsRCxFQUFBQSxPQUFPLEVBQUU7QUFESyxDQUFoQjtBQUlBbUQsUUFBUSxDQUFDRSxVQUFULEdBQXNCO0FBQ3BCQyxFQUFBQSxZQUFZLEVBQUU7QUFDWkMsSUFBQUEsS0FBSyxFQUFFLENBQ0w7QUFDRUMsTUFBQUEsT0FBTyxFQUFFO0FBQ1BDLFFBQUFBLEtBQUssRUFBRWhCLHFEQUFhQTtBQURiLE9BRFg7QUFJRWlCLE1BQUFBLE1BQU0sRUFBRVYseURBQVVBO0FBSnBCLEtBREs7QUFESztBQURNLENBQXRCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QvLi9zcmMvcHJvamVjdC9jb21wb25lbnRzL2NoYXJ0cy90cmVlX21hcC5qcyIsIndlYnBhY2s6Ly9yZWFjdC8uL3NyYy9wcm9qZWN0L2NvbXBvbmVudHMvZGFzaGJvYXJkL2NvdW50cmllcy5qcyIsIndlYnBhY2s6Ly9yZWFjdC8uL3NyYy9wcm9qZWN0L2NvbXBvbmVudHMvZGFzaGJvYXJkL2Rhc2hib2FyZC5qcyIsIndlYnBhY2s6Ly9yZWFjdC8uL3NyYy9wcm9qZWN0L2NvbXBvbmVudHMvZGFzaGJvYXJkL2Rhc2hib2FyZC5zdG9yaWVzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IHsgZGVmYXVsdCBhcyBSRFRyZWVNYXAgfSAgZnJvbSBcInJlYWN0LWQzLXRyZWVtYXBcIjtcbmltcG9ydCBcInJlYWN0LWQzLXRyZWVtYXAvZGlzdC9yZWFjdC5kMy50cmVlbWFwLmNzc1wiO1xuaW1wb3J0IGNvbnZlcnRDYXNlIGZyb20gJ2pzLWNvbnZlcnQtY2FzZSc7XG5cbmNsYXNzIFRyZWVNYXAgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgd2lkdGg6IDEwMCxcbiAgICAgIGRhdGE6IHt9LFxuICAgICAgZGF0YVJlZjogbnVsbCxcbiAgICB9O1xuXG4gICAgdGhpcy5yZWYgPSBSZWFjdC5jcmVhdGVSZWYoKTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZFVwZGF0ZSgpe1xuICAgIHZhciB3aWR0aCA9IHRoaXMucmVmLmN1cnJlbnQgPyB0aGlzLnJlZi5jdXJyZW50Lm9mZnNldFdpZHRoIDogdGhpcy5zdGF0ZS53aWR0aDtcblxuICAgIGlmKCB3aWR0aCAhPT0gdGhpcy5zdGF0ZS53aWR0aCl7XG4gICAgICB0aGlzLnNldFN0YXRlKHt3aWR0aDogd2lkdGh9KSAgXG4gICAgfVxuXG4gICAgdmFyIGRhdGEgPSB0aGlzLnByb3BzLmRhdGE7XG4gICAgaWYoIEpTT04uc3RyaW5naWZ5KHRoaXMucHJvcHMuZGF0YSkgIT09IEpTT04uc3RyaW5naWZ5KHRoaXMuc3RhdGUuZGF0YVJlZikgKXtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe2RhdGE6IHRoaXMucGFyc2VNYXBUb0RhdGEodGhpcy5wcm9wcy50aXRsZSwgZGF0YSksIGRhdGFSZWY6IGRhdGF9KVxuICAgIH1cbiAgfVxuXG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgbG9hZGluZywgZXJyb3IsIHRpdGxlIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHsgZGF0YSwgd2lkdGggfSA9IHRoaXMuc3RhdGU7XG5cbiAgICBpZiAobG9hZGluZyB8fCAhZGF0YS5jaGlsZHJlbiApIHJldHVybiA8cD5Mb2FkaW5nLi4uPC9wPjtcbiAgICBpZiAoZXJyb3IpIHJldHVybiA8cD5FcnJvciB7IGVycm9yLnRvU3RyaW5nKCkgfTwvcD47XG4gICAgaWYgKCFkYXRhKSByZXR1cm4gPHA+bm8gZGF0YTwvcD5cblxuICAgIHJldHVybiA8ZGl2IGlkPVwiX19fXCIgcmVmPXt0aGlzLnJlZn0+XG4gICAgICAgIDxSRFRyZWVNYXAgIFxuICAgICAgICAgIGlkPVwibXlUcmVlTWFwXCJcbiAgICAgICAgICB3aWR0aD17d2lkdGh9XG4gICAgICAgICAgaGVpZ2h0PXsod2lkdGggKiAwLjUpLnRvRml4ZWQoMCl9XG4gICAgICAgICAgZGF0YT17ZGF0YX1cbiAgICAgICAgICBsZXZlbHNUb0Rpc3BsYXk9ezF9XG4gICAgICAgICAgbm9kZVN0eWxlPXt7IHBhZGRpbmdMZWZ0OiA1LCBwYWRkaW5nUmlnaHQ6IDUgfX1cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PjtcbiAgfVxuXG4gIHBhcnNlTWFwVG9EYXRhKCB0aXRsZSwgZGF0YSApe1xuICAgIGlmKCFkYXRhKSByZXR1cm4gbnVsbFxuXG4gICAgdmFyIHJlc3AgPSBbXTtcbiAgICB2YXIgcmFuZ2VzID0gWyAxMCwgMjUsIDEwMCBdXG4gICAgdmFyIG90aGVycyA9IHt9O1xuICAgIE9iamVjdC5rZXlzKGRhdGEpLmZvckVhY2goIGMgPT4ge1xuICAgICAgdmFyIHZhbHVlID0gZGF0YVtjXTtcbiAgICAgIHZhciBvYmogPSB7IG5hbWU6IChjLnN0YXJ0c1dpdGgoXCJfXCIpID8gYy5zdWJzdHJpbmcoMSkgOiBjb252ZXJ0Q2FzZS50b0hlYWRlckNhc2UoYykgKSAsIHZhbHVlOiB2YWx1ZSB9O1xuICAgICAgZm9yKCB2YXIgaSA9IDA7IGkgPCByYW5nZXMubGVuZ3RoOyBpKyspe1xuICAgICAgICB2YXIgcmFuZ2UgPSByYW5nZXNbaV07XG4gICAgICAgIGlmKCB2YWx1ZSA+IHJhbmdlICkgY29udGludWU7XG4gICAgICAgIGlmKCAhb3RoZXJzW3JhbmdlXSApIG90aGVyc1tyYW5nZV0gPSB7IG5hbWU6IGAkeyhpID09PSAwKSA/IDEgOiByYW5nZXNbaSAtIDFdICsgMX0tJHtyYW5nZX1gLCB2YWx1ZTogMCwgY2hpbGRyZW46IFtdIH07XG4gICAgICAgIG90aGVyc1tyYW5nZV0uY2hpbGRyZW4ucHVzaCggb2JqICk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHJlc3AucHVzaCggb2JqIClcbiAgICB9KVxuXG4gICAgT2JqZWN0LmtleXMob3RoZXJzKS5mb3JFYWNoKCBrID0+IHtcbiAgICAgIHJlc3AucHVzaCAoIG90aGVyc1trXSApICBcbiAgICB9KVxuICAgIFxuICAgIHJldHVybiB7IG5hbWU6IHRpdGxlLCBjaGlsZHJlbjogcmVzcCB9O1xuICB9XG5cbn1cblxuXG5UcmVlTWFwLnByb3BUeXBlcyA9IHtcbiAgZGF0YTogUHJvcFR5cGVzLm9iamVjdCxcbiAgdGl0bGU6IFByb3BUeXBlcy5zdHJpbmcsXG59O1xuXG5UcmVlTWFwLmRlZmF1bHRQcm9wcyA9IHtcbiAgZGF0YToge30sXG4gIHRpdGxlOiBcInRpdGxlXCIsXG59O1xuXG5cbmV4cG9ydCBkZWZhdWx0IFRyZWVNYXA7IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgVHJlZU1hcCBmcm9tIFwiY29tcG9uZW50cy9jaGFydHMvdHJlZV9tYXBcIjtcblxuY29uc3QgdGl0bGUgPSBcImJ5IENvdW50cnlcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDb3VudHJpZXMoIHBhcmFtcyApe1xuICBjb25zdCB7IGxvYWRpbmcsIGVycm9yLCBkYXRhLCBmb3JtYXQgfSA9IHBhcmFtcztcbiAgaWYgKGxvYWRpbmcpIHJldHVybiA8cD5Mb2FkaW5nLi4uPC9wPjtcbiAgaWYgKGVycm9yKSByZXR1cm4gPHA+RXJyb3IgeyBlcnJvci50b1N0cmluZygpIH08L3A+O1xuXG4gIGlmICghZGF0YSB8fCBkYXRhLmxlbmd0aCA9PT0gMCkgcmV0dXJuIFwiTk8gREFUQVwiO1xuICBcbiAgcmV0dXJuIDxkaXY+XG4gICAgeyhmb3JtYXQgPT09IFwidGV4dFwiKSAmJiByZW5kZXJUZXh0KCBkYXRhICl9XG4gICAgeyhmb3JtYXQgPT09IFwiZ3JhcGhcIikgJiYgcmVuZGVyR3JhcGgoIHRpdGxlLCBkYXRhICl9XG4gIDwvZGl2Pjtcbn1cblxuZnVuY3Rpb24gcmVuZGVyVGV4dCggZGF0YSApe1xuICByZXR1cm4gPD5cbiAgICAgIDxkaXY+XG4gICAgICAgIDx1bD4gXG4gICAgICAgIHsgT2JqZWN0LmtleXMoZGF0YSkubWFwKCAoY291bnRyeSwgaWR4YyApID0+IChcbiAgICAgICAgICA8bGkga2V5PXtpZHhjfT4geyBjb3VudHJ5IH0gOiB7ZGF0YVtjb3VudHJ5XX0gPC9saT5cbiAgICAgICAgKSl9XG4gICAgICAgIDwvdWw+XG4gICAgICA8L2Rpdj5cbiAgICA8Lz5cbn1cblxuZnVuY3Rpb24gcmVuZGVyR3JhcGgoIHRpdGxlLCBkYXRhICl7XG4gIHJldHVybiA8VHJlZU1hcCB0aXRsZT17dGl0bGV9IGRhdGE9e2RhdGF9Lz5cbn1cblxuQ291bnRyaWVzLnByb3BUeXBlcyA9IHtcbiAgZGF0YTogUHJvcFR5cGVzLm9iamVjdCxcbiAgZm9ybWF0OiBQcm9wVHlwZXMub25lT2YoWyd0ZXh0JywgJ2dyYXBoJ10pLFxufTtcblxuQ291bnRyaWVzLmRlZmF1bHRQcm9wcyA9IHtcbiAgZGF0YToge30sXG4gIGZvcm1hdDogXCJ0ZXh0XCIsXG59O1xuXG5cbiIsImltcG9ydCBDb3VudHJpZXMgZnJvbSAnLi9jb3VudHJpZXMnO1xuXG5pbXBvcnQgeyBncWwsIHVzZVF1ZXJ5IH0gZnJvbSBcIkBhcG9sbG8vY2xpZW50XCI7XG5cbmV4cG9ydCBjb25zdCBRUllfREFTSEJPQVJEID0gZ3FsYFxuICBxdWVyeSBnZXREYXNoYm9hcmR7IFxuICAgIGRhc2hib2FyZCB7XG4gICAgICBhY3RvcnNcbiAgICAgIGNvdW50cmllc1xuICAgICAgZGlyZWN0b3JzXG4gICAgICBnZW5yZXNcbiAgICAgIGxhc3RVcGRhdGVcbiAgICAgIG1vdmllc1xuICAgICAgcGVvcGxlXG4gICAgICB0eXBlc1xuICAgICAgeWVhcnNBZGRlZFxuICAgICAgeWVhcnNSZWxlYXNlZFxuICAgIH1cbiAgfWA7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIERhc2hiYW9yZCgpIHtcbiAgY29uc3QgeyBsb2FkaW5nLCBlcnJvciwgZGF0YSB9ID0gdXNlUXVlcnkoUVJZX0RBU0hCT0FSRCk7XG5cbiAgaWYgKGxvYWRpbmcpIHJldHVybiA8cD5Mb2FkaW5nLi4uPC9wPjtcbiAgaWYgKGVycm9yKSByZXR1cm4gPHA+RXJyb3IgeyBlcnJvci50b1N0cmluZygpIH08L3A+O1xuXG4gIGNvbnNvbGUubG9nKGRhdGEuZGFzaGJvYXJkLmNvdW50cmllcyk7XG5cbiAgcmV0dXJuIDxkaXY+XG4gICAgICA8aDE+RGFzaGJvYXJkPC9oMT5cbiAgICAgIDxDb3VudHJpZXMgZGF0YT17ZGF0YS5kYXNoYm9hcmQuY291bnRyaWVzfSBmb3JtYXQ9XCJncmFwaFwiLz5cbiAgICA8L2Rpdj5cbn0iLCJpbXBvcnQgRGFzaGJvYXJkLCB7IFFSWV9EQVNIQk9BUkQgfSBmcm9tICcuL2Rhc2hib2FyZCdcbmltcG9ydCBtb2NrdXBEYXRhIGZyb20gJ3Jlcy9tb2NrLWRhdGEvZGFzaGJvYXJkLmpzb24nXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgdGl0bGU6ICdQYWdlcy9EYXNoYm9hcmQnLFxufTtcblxuY29uc3QgVGVtcGxhdGUgPSBhcmdzID0+IDxEYXNoYm9hcmQgey4uLmFyZ3N9IC8+O1xuXG5leHBvcnQgY29uc3QgQ29udHJvbHMgPSBUZW1wbGF0ZS5iaW5kKHt9KTtcblxuQ29udHJvbHMuYXJncyA9IHtcbiAgbG9hZGluZzogZmFsc2UsXG59O1xuXG5Db250cm9scy5wYXJhbWV0ZXJzID0ge1xuICBhcG9sbG9DbGllbnQ6IHtcbiAgICBtb2NrczogW1xuICAgICAge1xuICAgICAgICByZXF1ZXN0OiB7XG4gICAgICAgICAgcXVlcnk6IFFSWV9EQVNIQk9BUkQsXG4gICAgICAgIH0sXG4gICAgICAgIHJlc3VsdDogbW9ja3VwRGF0YVxuICAgICAgfSxcbiAgICBdLFxuICB9LFxufTsiXSwibmFtZXMiOlsiUmVhY3QiLCJQcm9wVHlwZXMiLCJkZWZhdWx0IiwiUkRUcmVlTWFwIiwiY29udmVydENhc2UiLCJUcmVlTWFwIiwicHJvcHMiLCJzdGF0ZSIsIndpZHRoIiwiZGF0YSIsImRhdGFSZWYiLCJyZWYiLCJjcmVhdGVSZWYiLCJjdXJyZW50Iiwib2Zmc2V0V2lkdGgiLCJzZXRTdGF0ZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJwYXJzZU1hcFRvRGF0YSIsInRpdGxlIiwibG9hZGluZyIsImVycm9yIiwiY2hpbGRyZW4iLCJ0b1N0cmluZyIsInRvRml4ZWQiLCJwYWRkaW5nTGVmdCIsInBhZGRpbmdSaWdodCIsInJlc3AiLCJyYW5nZXMiLCJvdGhlcnMiLCJPYmplY3QiLCJrZXlzIiwiZm9yRWFjaCIsImMiLCJ2YWx1ZSIsIm9iaiIsIm5hbWUiLCJzdGFydHNXaXRoIiwic3Vic3RyaW5nIiwidG9IZWFkZXJDYXNlIiwiaSIsImxlbmd0aCIsInJhbmdlIiwicHVzaCIsImsiLCJDb21wb25lbnQiLCJwcm9wVHlwZXMiLCJvYmplY3QiLCJzdHJpbmciLCJkZWZhdWx0UHJvcHMiLCJDb3VudHJpZXMiLCJwYXJhbXMiLCJmb3JtYXQiLCJyZW5kZXJUZXh0IiwicmVuZGVyR3JhcGgiLCJtYXAiLCJjb3VudHJ5IiwiaWR4YyIsIm9uZU9mIiwiZ3FsIiwidXNlUXVlcnkiLCJRUllfREFTSEJPQVJEIiwiRGFzaGJhb3JkIiwiY29uc29sZSIsImxvZyIsImRhc2hib2FyZCIsImNvdW50cmllcyIsIkRhc2hib2FyZCIsIm1vY2t1cERhdGEiLCJUZW1wbGF0ZSIsImFyZ3MiLCJDb250cm9scyIsImJpbmQiLCJwYXJhbWV0ZXJzIiwiYXBvbGxvQ2xpZW50IiwibW9ja3MiLCJyZXF1ZXN0IiwicXVlcnkiLCJyZXN1bHQiXSwic291cmNlUm9vdCI6IiJ9