"use strict";
(self["webpackChunkreact"] = self["webpackChunkreact"] || []).push([["src_project_components_dashboard_genres_js-node_modules_react-d3-treemap_dist_react_d3_treemap_css"],{

/***/ "./src/project/components/charts/tree_map.js":
/*!***************************************************!*\
  !*** ./src/project/components/charts/tree_map.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_d3_treemap__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-d3-treemap */ "./node_modules/react-d3-treemap/dist/react.d3.treemap.js");
/* harmony import */ var react_d3_treemap__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_d3_treemap__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_d3_treemap_dist_react_d3_treemap_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-d3-treemap/dist/react.d3.treemap.css */ "./node_modules/react-d3-treemap/dist/react.d3.treemap.css");
/* harmony import */ var js_convert_case__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! js-convert-case */ "./node_modules/js-convert-case/index.js");
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }







var TreeMap = /*#__PURE__*/function (_React$Component) {
  _inherits(TreeMap, _React$Component);

  var _super = _createSuper(TreeMap);

  function TreeMap(props) {
    var _this;

    _classCallCheck(this, TreeMap);

    _this = _super.call(this, props);
    _this.state = {
      width: 100,
      data: {},
      dataRef: null
    };
    _this.ref = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createRef();
    return _this;
  }

  _createClass(TreeMap, [{
    key: "componentDidUpdate",
    value: function componentDidUpdate() {
      var width = this.ref.current ? this.ref.current.offsetWidth : this.state.width;

      if (width !== this.state.width) {
        this.setState({
          width: width
        });
      }

      var data = this.props.data;

      if (JSON.stringify(this.props.data) !== JSON.stringify(this.state.dataRef)) {
        this.setState({
          data: this.parseMapToData(this.props.title, data),
          dataRef: data
        });
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props = this.props,
          loading = _this$props.loading,
          error = _this$props.error,
          title = _this$props.title;
      var _this$state = this.state,
          data = _this$state.data,
          width = _this$state.width;
      if (loading || !data.children) return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("p", null, "Loading...");
      if (error) return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("p", null, "Error ", error.toString());
      if (!data) return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("p", null, "no data");
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
        id: "___",
        ref: this.ref
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement((react_d3_treemap__WEBPACK_IMPORTED_MODULE_2___default()), {
        id: "myTreeMap",
        width: width,
        height: (width * 0.5).toFixed(0),
        data: data,
        levelsToDisplay: 1,
        nodeStyle: {
          paddingLeft: 5,
          paddingRight: 5
        }
      }));
    }
  }, {
    key: "parseMapToData",
    value: function parseMapToData(title, data) {
      if (!data) return null;
      var resp = [];
      var ranges = [10, 25, 100];
      var others = {};
      Object.keys(data).forEach(function (c) {
        var value = data[c];
        var obj = {
          name: c.startsWith("_") ? c.substring(1) : js_convert_case__WEBPACK_IMPORTED_MODULE_4__["default"].toHeaderCase(c),
          value: value
        };

        for (var i = 0; i < ranges.length; i++) {
          var range = ranges[i];
          if (value > range) continue;
          if (!others[range]) others[range] = {
            name: "".concat(i === 0 ? 1 : ranges[i - 1] + 1, "-").concat(range),
            value: 0,
            children: []
          };
          others[range].children.push(obj);
          return;
        }

        resp.push(obj);
      });
      Object.keys(others).forEach(function (k) {
        resp.push(others[k]);
      });
      return {
        name: title,
        children: resp
      };
    }
  }]);

  return TreeMap;
}(react__WEBPACK_IMPORTED_MODULE_0__.Component);

TreeMap.propTypes = {
  data: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().object),
  title: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string)
};
TreeMap.defaultProps = {
  data: {},
  title: "title"
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (TreeMap);

/***/ }),

/***/ "./src/project/components/dashboard/genres.js":
/*!****************************************************!*\
  !*** ./src/project/components/dashboard/genres.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Genres)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var components_charts_tree_map__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! components/charts/tree_map */ "./src/project/components/charts/tree_map.js");



var title = "by Genre";
function Genres(params) {
  var loading = params.loading,
      error = params.error,
      data = params.data,
      format = params.format;
  if (loading) return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("p", null, "Loading...");
  if (error) return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("p", null, "Error ", error.toString());
  if (!data || data.length === 0) return "NO DATA";
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", null, format === "text" && renderText(data), format === "graph" && renderGraph(title, data));
}

function renderText(data) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("p", null, " Movies by country"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("ul", null, Object.keys(data).map(function (country, idxc) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("li", {
      key: idxc
    }, " ", country, " : ", data[country], " ");
  }))));
}

function renderGraph(title, data) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(components_charts_tree_map__WEBPACK_IMPORTED_MODULE_2__["default"], {
    title: title,
    data: data
  });
}

Genres.propTypes = {
  data: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().object),
  format: prop_types__WEBPACK_IMPORTED_MODULE_1___default().oneOf(['text', 'graph'])
};
Genres.defaultProps = {
  data: {},
  format: "text"
};

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3JjX3Byb2plY3RfY29tcG9uZW50c19kYXNoYm9hcmRfZ2VucmVzX2pzLW5vZGVfbW9kdWxlc19yZWFjdC1kMy10cmVlbWFwX2Rpc3RfcmVhY3RfZDNfdHJlZW1hcF9jc3MuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7SUFFTUs7Ozs7O0FBQ0osbUJBQVlDLEtBQVosRUFBbUI7QUFBQTs7QUFBQTs7QUFDakIsOEJBQU1BLEtBQU47QUFDQSxVQUFLQyxLQUFMLEdBQWE7QUFDWEMsTUFBQUEsS0FBSyxFQUFFLEdBREk7QUFFWEMsTUFBQUEsSUFBSSxFQUFFLEVBRks7QUFHWEMsTUFBQUEsT0FBTyxFQUFFO0FBSEUsS0FBYjtBQU1BLFVBQUtDLEdBQUwsZ0JBQVdYLDRDQUFBLEVBQVg7QUFSaUI7QUFTbEI7Ozs7V0FFRCw4QkFBb0I7QUFDbEIsVUFBSVEsS0FBSyxHQUFHLEtBQUtHLEdBQUwsQ0FBU0UsT0FBVCxHQUFtQixLQUFLRixHQUFMLENBQVNFLE9BQVQsQ0FBaUJDLFdBQXBDLEdBQWtELEtBQUtQLEtBQUwsQ0FBV0MsS0FBekU7O0FBRUEsVUFBSUEsS0FBSyxLQUFLLEtBQUtELEtBQUwsQ0FBV0MsS0FBekIsRUFBK0I7QUFDN0IsYUFBS08sUUFBTCxDQUFjO0FBQUNQLFVBQUFBLEtBQUssRUFBRUE7QUFBUixTQUFkO0FBQ0Q7O0FBRUQsVUFBSUMsSUFBSSxHQUFHLEtBQUtILEtBQUwsQ0FBV0csSUFBdEI7O0FBQ0EsVUFBSU8sSUFBSSxDQUFDQyxTQUFMLENBQWUsS0FBS1gsS0FBTCxDQUFXRyxJQUExQixNQUFvQ08sSUFBSSxDQUFDQyxTQUFMLENBQWUsS0FBS1YsS0FBTCxDQUFXRyxPQUExQixDQUF4QyxFQUE0RTtBQUMxRSxhQUFLSyxRQUFMLENBQWM7QUFBQ04sVUFBQUEsSUFBSSxFQUFFLEtBQUtTLGNBQUwsQ0FBb0IsS0FBS1osS0FBTCxDQUFX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Tyw4REFDSFcsTUFBTSxLQUFLLE1BQVosSUFBdUJDLFVBQVUsQ0FBRTVDLElBQUYsQ0FEN0IsRUFFSDJDLE1BQU0sS0FBSyxPQUFaLElBQXdCRSxXQUFXLENBQUVuQyxLQUFGLEVBQVNWLElBQVQsQ0FGL0IsQ0FBUDtBQUlEOztBQUVELFNBQVM0QyxVQUFULENBQXFCNUMsSUFBckIsRUFBMkI7QUFDekIsc0JBQU8saUhBQ0gsaUZBREcsZUFFSCwyRUFDRSw2REFDRXFCLE1BQU0sQ0FBQ0MsSUFBUCxDQUFZdEIsSUFBWixFQUFrQjhDLEdBQWxCLENBQXVCLFVBQUNDLE9BQUQsRUFBVUMsSUFBVjtBQUFBLHdCQUN2QjtBQUFJLFNBQUcsRUFBRUE7QUFBVCxZQUFrQkQsT0FBbEIsU0FBK0IvQyxJQUFJLENBQUMrQyxPQUFELENBQW5DLE1BRHVCO0FBQUEsR0FBdkIsQ0FERixDQURGLENBRkcsQ0FBUDtBQVVEOztBQUVELFNBQVNGLFdBQVQsQ0FBc0JuQyxLQUF0QixFQUE2QlYsSUFBN0IsRUFBbUM7QUFDakMsc0JBQU8saURBQUMsa0VBQUQ7QUFBUyxTQUFLLEVBQUVVLEtBQWhCO0FBQXVCLFFBQUksRUFBRVY7QUFBN0IsSUFBUDtBQUNEOztBQUVEeUMsTUFBTSxDQUFDSixTQUFQLEdBQW1CO0FBQ2pCckMsRUFBQUEsSUFBSSxFQUFFUiwwREFEVztBQUVqQm1ELEVBQUFBLE1BQU0sRUFBRW5ELHVEQUFBLENBQWdCLENBQUMsTUFBRCxFQUFTLE9BQVQsQ0FBaEI7QUFGUyxDQUFuQjtBQUtBaUQsTUFBTSxDQUFDRCxZQUFQLEdBQXNCO0FBQ3BCeEMsRUFBQUEsSUFBSSxFQUFFLEVBRGM7QUFFcEIyQyxFQUFBQSxNQUFNLEVBQUU7QUFGWSxDQUF0QiIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0Ly4vc3JjL3Byb2plY3QvY29tcG9uZW50cy9jaGFydHMvdHJlZV9tYXAuanMiLCJ3ZWJwYWNrOi8vcmVhY3QvLi9zcmMvcHJvamVjdC9jb21wb25lbnRzL2Rhc2hib2FyZC9nZW5yZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgeyBkZWZhdWx0IGFzIFJEVHJlZU1hcCB9ICBmcm9tIFwicmVhY3QtZDMtdHJlZW1hcFwiO1xuaW1wb3J0IFwicmVhY3QtZDMtdHJlZW1hcC9kaXN0L3JlYWN0LmQzLnRyZWVtYXAuY3NzXCI7XG5pbXBvcnQgY29udmVydENhc2UgZnJvbSAnanMtY29udmVydC1jYXNlJztcblxuY2xhc3MgVHJlZU1hcCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICB3aWR0aDogMTAwLFxuICAgICAgZGF0YToge30sXG4gICAgICBkYXRhUmVmOiBudWxsLFxuICAgIH07XG5cbiAgICB0aGlzLnJlZiA9IFJlYWN0LmNyZWF0ZVJlZigpO1xuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlKCl7XG4gICAgdmFyIHdpZHRoID0gdGhpcy5yZWYuY3VycmVudCA/IHRoaXMucmVmLmN1cnJlbnQub2Zmc2V0V2lkdGggOiB0aGlzLnN0YXRlLndpZHRoO1xuXG4gICAgaWYoIHdpZHRoICE9PSB0aGlzLnN0YXRlLndpZHRoKXtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe3dpZHRoOiB3aWR0aH0pICBcbiAgICB9XG5cbiAgICB2YXIgZGF0YSA9IHRoaXMucHJvcHMuZGF0YTtcbiAgICBpZiggSlNPTi5zdHJpbmdpZnkodGhpcy5wcm9wcy5kYXRhKSAhPT0gSlNPTi5zdHJpbmdpZnkodGhpcy5zdGF0ZS5kYXRhUmVmKSApe1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7ZGF0YTogdGhpcy5wYXJzZU1hcFRvRGF0YSh0aGlzLnByb3BzLnRpdGxlLCBkYXRhKSwgZGF0YVJlZjogZGF0YX0pXG4gICAgfVxuICB9XG5cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBsb2FkaW5nLCBlcnJvciwgdGl0bGUgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgeyBkYXRhLCB3aWR0aCB9ID0gdGhpcy5zdGF0ZTtcblxuICAgIGlmIChsb2FkaW5nIHx8ICFkYXRhLmNoaWxkcmVuICkgcmV0dXJuIDxwPkxvYWRpbmcuLi48L3A+O1xuICAgIGlmIChlcnJvcikgcmV0dXJuIDxwPkVycm9yIHsgZXJyb3IudG9TdHJpbmcoKSB9PC9wPjtcbiAgICBpZiAoIWRhdGEpIHJldHVybiA8cD5ubyBkYXRhPC9wPlxuXG4gICAgcmV0dXJuIDxkaXYgaWQ9XCJfX19cIiByZWY9e3RoaXMucmVmfT5cbiAgICAgICAgPFJEVHJlZU1hcCAgXG4gICAgICAgICAgaWQ9XCJteVRyZWVNYXBcIlxuICAgICAgICAgIHdpZHRoPXt3aWR0aH1cbiAgICAgICAgICBoZWlnaHQ9eyh3aWR0aCAqIDAuNSkudG9GaXhlZCgwKX1cbiAgICAgICAgICBkYXRhPXtkYXRhfVxuICAgICAgICAgIGxldmVsc1RvRGlzcGxheT17MX1cbiAgICAgICAgICBub2RlU3R5bGU9e3sgcGFkZGluZ0xlZnQ6IDUsIHBhZGRpbmdSaWdodDogNSB9fVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+O1xuICB9XG5cbiAgcGFyc2VNYXBUb0RhdGEoIHRpdGxlLCBkYXRhICl7XG4gICAgaWYoIWRhdGEpIHJldHVybiBudWxsXG5cbiAgICB2YXIgcmVzcCA9IFtdO1xuICAgIHZhciByYW5nZXMgPSBbIDEwLCAyNSwgMTAwIF1cbiAgICB2YXIgb3RoZXJzID0ge307XG4gICAgT2JqZWN0LmtleXMoZGF0YSkuZm9yRWFjaCggYyA9PiB7XG4gICAgICB2YXIgdmFsdWUgPSBkYXRhW2NdO1xuICAgICAgdmFyIG9iaiA9IHsgbmFtZTogKGMuc3RhcnRzV2l0aChcIl9cIikgPyBjLnN1YnN0cmluZygxKSA6IGNvbnZlcnRDYXNlLnRvSGVhZGVyQ2FzZShjKSApICwgdmFsdWU6IHZhbHVlIH07XG4gICAgICBmb3IoIHZhciBpID0gMDsgaSA8IHJhbmdlcy5sZW5ndGg7IGkrKyl7XG4gICAgICAgIHZhciByYW5nZSA9IHJhbmdlc1tpXTtcbiAgICAgICAgaWYoIHZhbHVlID4gcmFuZ2UgKSBjb250aW51ZTtcbiAgICAgICAgaWYoICFvdGhlcnNbcmFuZ2VdICkgb3RoZXJzW3JhbmdlXSA9IHsgbmFtZTogYCR7KGkgPT09IDApID8gMSA6IHJhbmdlc1tpIC0gMV0gKyAxfS0ke3JhbmdlfWAsIHZhbHVlOiAwLCBjaGlsZHJlbjogW10gfTtcbiAgICAgICAgb3RoZXJzW3JhbmdlXS5jaGlsZHJlbi5wdXNoKCBvYmogKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcmVzcC5wdXNoKCBvYmogKVxuICAgIH0pXG5cbiAgICBPYmplY3Qua2V5cyhvdGhlcnMpLmZvckVhY2goIGsgPT4ge1xuICAgICAgcmVzcC5wdXNoICggb3RoZXJzW2tdICkgIFxuICAgIH0pXG4gICAgXG4gICAgcmV0dXJuIHsgbmFtZTogdGl0bGUsIGNoaWxkcmVuOiByZXNwIH07XG4gIH1cblxufVxuXG5cblRyZWVNYXAucHJvcFR5cGVzID0ge1xuICBkYXRhOiBQcm9wVHlwZXMub2JqZWN0LFxuICB0aXRsZTogUHJvcFR5cGVzLnN0cmluZyxcbn07XG5cblRyZWVNYXAuZGVmYXVsdFByb3BzID0ge1xuICBkYXRhOiB7fSxcbiAgdGl0bGU6IFwidGl0bGVcIixcbn07XG5cblxuZXhwb3J0IGRlZmF1bHQgVHJlZU1hcDsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBUcmVlTWFwIGZyb20gXCJjb21wb25lbnRzL2NoYXJ0cy90cmVlX21hcFwiO1xuXG5jb25zdCB0aXRsZSA9IFwiYnkgR2VucmVcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBHZW5yZXMoIHBhcmFtcyApe1xuICBjb25zdCB7IGxvYWRpbmcsIGVycm9yLCBkYXRhLCBmb3JtYXQgfSA9IHBhcmFtcztcbiAgaWYgKGxvYWRpbmcpIHJldHVybiA8cD5Mb2FkaW5nLi4uPC9wPjtcbiAgaWYgKGVycm9yKSByZXR1cm4gPHA+RXJyb3IgeyBlcnJvci50b1N0cmluZygpIH08L3A+O1xuXG4gIGlmICghZGF0YSB8fCBkYXRhLmxlbmd0aCA9PT0gMCkgcmV0dXJuIFwiTk8gREFUQVwiO1xuICBcbiAgcmV0dXJuIDxkaXY+XG4gICAgeyhmb3JtYXQgPT09IFwidGV4dFwiKSAmJiByZW5kZXJUZXh0KCBkYXRhICl9XG4gICAgeyhmb3JtYXQgPT09IFwiZ3JhcGhcIikgJiYgcmVuZGVyR3JhcGgoIHRpdGxlLCBkYXRhICl9XG4gIDwvZGl2Pjtcbn1cblxuZnVuY3Rpb24gcmVuZGVyVGV4dCggZGF0YSApe1xuICByZXR1cm4gPD5cbiAgICAgIDxwPiBNb3ZpZXMgYnkgY291bnRyeTwvcD5cbiAgICAgIDxkaXY+XG4gICAgICAgIDx1bD4gXG4gICAgICAgIHsgT2JqZWN0LmtleXMoZGF0YSkubWFwKCAoY291bnRyeSwgaWR4YyApID0+IChcbiAgICAgICAgICA8bGkga2V5PXtpZHhjfT4geyBjb3VudHJ5IH0gOiB7ZGF0YVtjb3VudHJ5XX0gPC9saT5cbiAgICAgICAgKSl9XG4gICAgICAgIDwvdWw+XG4gICAgICA8L2Rpdj5cbiAgICA8Lz5cbn1cblxuZnVuY3Rpb24gcmVuZGVyR3JhcGgoIHRpdGxlLCBkYXRhICl7XG4gIHJldHVybiA8VHJlZU1hcCB0aXRsZT17dGl0bGV9IGRhdGE9e2RhdGF9Lz5cbn1cblxuR2VucmVzLnByb3BUeXBlcyA9IHtcbiAgZGF0YTogUHJvcFR5cGVzLm9iamVjdCxcbiAgZm9ybWF0OiBQcm9wVHlwZXMub25lT2YoWyd0ZXh0JywgJ2dyYXBoJ10pLFxufTtcblxuR2VucmVzLmRlZmF1bHRQcm9wcyA9IHtcbiAgZGF0YToge30sXG4gIGZvcm1hdDogXCJ0ZXh0XCIsXG59O1xuXG5cbiJdLCJuYW1lcyI6WyJSZWFjdCIsIlByb3BUeXBlcyIsImRlZmF1bHQiLCJSRFRyZWVNYXAiLCJjb252ZXJ0Q2FzZSIsIlRyZWVNYXAiLCJwcm9wcyIsInN0YXRlIiwid2lkdGgiLCJkYXRhIiwiZGF0YVJlZiIsInJlZiIsImNyZWF0ZVJlZiIsImN1cnJlbnQiLCJvZmZzZXRXaWR0aCIsInNldFN0YXRlIiwiSlNPTiIsInN0cmluZ2lmeSIsInBhcnNlTWFwVG9EYXRhIiwidGl0bGUiLCJsb2FkaW5nIiwiZXJyb3IiLCJjaGlsZHJlbiIsInRvU3RyaW5nIiwidG9GaXhlZCIsInBhZGRpbmdMZWZ0IiwicGFkZGluZ1JpZ2h0IiwicmVzcCIsInJhbmdlcyIsIm90aGVycyIsIk9iamVjdCIsImtleXMiLCJmb3JFYWNoIiwiYyIsInZhbHVlIiwib2JqIiwibmFtZSIsInN0YXJ0c1dpdGgiLCJzdWJzdHJpbmciLCJ0b0hlYWRlckNhc2UiLCJpIiwibGVuZ3RoIiwicmFuZ2UiLCJwdXNoIiwiayIsIkNvbXBvbmVudCIsInByb3BUeXBlcyIsIm9iamVjdCIsInN0cmluZyIsImRlZmF1bHRQcm9wcyIsIkdlbnJlcyIsInBhcmFtcyIsImZvcm1hdCIsInJlbmRlclRleHQiLCJyZW5kZXJHcmFwaCIsIm1hcCIsImNvdW50cnkiLCJpZHhjIiwib25lT2YiXSwic291cmNlUm9vdCI6IiJ9