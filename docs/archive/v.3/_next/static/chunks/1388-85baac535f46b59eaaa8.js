"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1388],{1015:function(e,r,n){n.d(r,{S:function(){return p},E:function(){return f}});var t,o,i=n(30168),a=n(4942),c=n(54397),u=n(42535);function l(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function s(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?l(Object(n),!0).forEach((function(r){(0,a.Z)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}var p=function(e){var r=e.topic,n=e.entity;return(0,u.h)(d({entity:n}),{topic:r},(function(e){return s(s({},e),{},{data:e.data.storyTopic})}))},d=function(e){var r=e.ENTITY;return(0,c.Ps)(t||(t=(0,i.Z)(["\nquery ","_topic($topic: String!){\n  storyTopic(topic: $topic){\n    year\n    genre\n  }\n}\n"])),r)},f=function(e){var r=e.page,n=e.entity,t=e.genre,o=e.decade,i=e.nratio;return(0,u.h)(g({ENTITY:n.replace(/-/g,"_")}),{page:r,year:parseInt(o),genre:t,nratio:i},(function(e){return s(s({},e),{},{data:e.data.storyTopics})}))},g=function(e){var r=e.ENTITY;return(0,c.Ps)(o||(o=(0,i.Z)(["\nquery ","_topics($page: Int, $genre: String, $year: Int, $nratio : Int){\n  storyTopics(page: $page, genre: $genre, year: $year, nratio: $nratio){\n    year\n    genre\n    max\n    min\n    words{\n      n\n      p\n    }\n  }\n}\n"])),r)}},26989:function(e,r,n){var t=n(4942),o=n(67294),i=n(29602),a=n(76637),c=n(26447),u=n(90461),l=n(9573),s=n(38732),p=n(98102),d=n(56011),f=n(3694),g=n(31298),h=n(79521),y=n(12871),m=n(98326),b=n(52871),v=n(85893);function O(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function j(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?O(Object(n),!0).forEach((function(r){(0,t.Z)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}var w=(0,i.ZP)(p.Z)((function(e){return{backgroundColor:e.theme.palette.background.paper,zIndex:"100!important"}})),P=(0,i.ZP)(p.Z)((function(e){e.theme;return{textAlign:"center",padding:"0.2rem",fontSize:"0.8rem",lineHeight:"0.8rem",fontFamily:"monospace"}})),x=(0,i.ZP)(p.Z)((function(e){return{backgroundColor:e.theme.palette.background.paper,zIndex:90,padding:"0.2rem",paddingLeft:"1rem",fontSize:"0.75rem",lineHeight:"0.75rem"}})),k=(0,i.ZP)(p.Z)((function(e){return{padding:0,fontSize:"0.7rem",lineHeight:"0.7rem",borderRight:"1px dotted",borderColor:e.theme.palette.action.selected}}));function Z(e){var r=e.columns,n=e.data,t=e.onClick,o=(0,h.useTable)({columns:r,data:n},y.useSticky),i=o.getTableProps,a=o.getTableBodyProps,c=o.headerGroups,u=o.rows,p=o.prepareRow,g=function(e,r){return r?"rgba(0,0,0,0.4)":e%2==0?"rgba(0,0,0,0.1)":"inherit"};return(0,v.jsxs)(l.Z,j(j({size:"small",stickyHeader:!0},i()),{},{children:[(0,v.jsx)(d.Z,{children:c.map((function(e){return(0,v.jsx)(f.Z,j(j({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e,r){return 0==r?(0,v.jsx)(w,j(j({},e.getHeaderProps()),{},{children:e.render("Header")})):(0,v.jsx)(P,j(j({},e.getHeaderProps()),{},{children:e.render("Header")}))}))}))}))}),(0,v.jsx)(s.Z,j(j({},a()),{},{children:u.map((function(e,r){return p(e),(0,v.jsx)(f.Z,j(j({},e.getRowProps()),{},{style:{backgroundColor:g(r,!1)},children:e.cells.map((function(e,r){return 0==r?(0,v.jsx)(x,j(j({},e.getCellProps()),{},{children:e.render("Cell")})):(0,v.jsx)(k,j(j({align:"center"},e.getCellProps()),{},{children:(0,v.jsx)(C,{onClick:function(){t&&t({decade:e.column.Header,genre:e.row.values.genre})},cell:e})}))}))}))}))}))]}))}var C=function(e){var r=e.cell,n=e.onClick;return""==r.value?null:(0,v.jsx)(a.Z,{onClick:n,style:{width:"100%"},children:"\u2713"})};r.Z=function(e){var r=(0,o.useMemo)((function(){return function(e,r){if(!e||0==e.length||r)return[null,null];var n,t=[],o=[],i=(0,m.a)({ascending:!0}),a=(0,b.J)({all:!1}),c=function(e,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return o.push(j({Header:e,accessor:r},n?{sticky:"left"}:{}))};return c("Genre","genre",!0),i.forEach((function(e,r){c("".concat(e),"_".concat(e),!1)})),a.forEach((function(r){n={genre:r},i.forEach((function(t){var o=e.find((function(e){return e.genre==r&&e.year==t}));n["_".concat(t)]=o?"\u2713":""})),t.push(n)})),[o,t]}(e.data,e.loading)}),[e.data]),n=r[0],t=r[1],i=e.onExit,a=e.topic,l=e.v3,s=e.onClick;return null==n?null:(0,v.jsx)("div",{style:{width:"100%",display:"flex",flex:1},children:(0,v.jsxs)(c.Z,{direction:"column",spacing:1,style:{width:"100%"},children:[!l&&(0,v.jsx)("span",{children:(0,v.jsx)(u.Z,{label:a.replace(/,/g," "),onDelete:i})}),(0,v.jsx)(g.$B,{autoHeight:!l,style:{flex:1},children:(0,v.jsx)("div",{style:{width:"100%",fontSize:"0.6rem",padding:"0 1rem 1rem 0"},children:(0,v.jsx)(Z,{columns:n,data:t,onClick:s})})})]})})}},23620:function(e,r,n){n.d(r,{Z:function(){return O}});var t=n(4942),o=n(67294),i=n(29602),a=n(2734),c=n(97005),u=n(74187),l=n(14308),s=n(28973),p=n(74035),d=n(85893);function f(e){return(0,d.jsx)(p.X,{children:(0,d.jsx)(l.Z,{spacing:1,sx:{padding:"1rem",display:"flex",flexGrow:1},children:(0,d.jsx)(s.Z,{variant:"rectangular",height:150})})})}function g(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function h(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?g(Object(n),!0).forEach((function(r){(0,t.Z)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}var y=(0,i.ZP)("span")((function(e){var r=e.fontSize,n=e.color,t=e.backgroundColor;e.theme;return{border:"1px solid rgba(0,0,0,0.2)",padding:"0.5rem",marginRight:"1rem",marginBottom:"0.25rem",fontSize:"".concat(r),color:"".concat(n),backgroundColor:"".concat(t),cursor:"pointer",borderRadius:"5px"}})),m=function(e){e.data;var r=e.direction,n=e.words,t=e.max,o=e.min,i=e.onClick,a=e.wordName,u=e.wordCount;return(0,d.jsx)(c.Z,{gradient:!1,direction:r,pauseOnHover:!0,pauseOnClick:!0,children:n.map((function(e,r){return(0,d.jsx)(y,h(h({},v(u(e),t,o)),{},{fontSize:b(u(e),t,o),onClick:function(){return i(a(e).toLowerCase())},children:a(e).toLowerCase()}),r)}))})},b=function(e,r,n){e+=10;for(var t=[1,2,3,5,8,12,16,21,34,55],o=(r-n)/t[t.length-1],i=Math.floor(e/o),a=0;a<t.length;a++){if(i<t[a]){i=a;break}}return"1em"},v=function(e,r,n){for(var t=(0,a.Z)(),o=[3,5,8,13,21,34,55],i=(r-n)/o[o.length-1],c=Math.floor(e/i),l=0;l<o.length;l++)if(c<=o[l]){c=l;break}return c=c>o.length-1?o.length-1:c,(0,u.$)(t,c)},O=function(e){var r=e.data,n=e.onTopicClick,t=e.loading,i=(e.wordName,e.wordCount);if(null==r||t)return(0,d.jsx)(f,{});var a="i-".repeat(3).split("-"),c=Math.floor(r.length/4),u=i(r[0]),l=i(r[r.length-1]);return(0,d.jsx)("div",{children:a.map((function(t,i){return(0,o.createElement)(m,h(h({},e),{},{onClick:n,max:u,min:l,key:i,words:r.slice(c*i,c*(i+1)),direction:i%2==0?"left":"right"}))}))})}},11388:function(e,r,n){n.d(r,{Z:function(){return X}});var t,o=n(4942),i=n(67294),a=n(55619),c={automata:{name:"stories-remakes"},page:{title:"Remakes",description:"",url:function(e){var r=e.entity;return"/".concat(r,"/stories/remakes")}},banner:{showData:!0,renderer:"marquee"}},u=n(15861),l=n(87757),s=n.n(l),p=n(24268),d=n(80105),f=n(11163),g=n(30168),h=n(54397),y=n(42535),m=n(75679);function b(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function v(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?b(Object(n),!0).forEach((function(r){(0,o.Z)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}var O,j=function(e){var r=e.page,n=e.entity,t=e.extended,o=e.limit;return(0,y.h)(w({ENTITY:n.replace(/-/g,"_")}),{page:r,extended:t,limit:o},(function(e){return v(v({},e),{},{data:e.data.storyRemakes})}))},w=function(e){var r=e.ENTITY;return(0,h.Ps)(t||(t=(0,g.Z)(["\n","\nquery ","_remakes($page: Int, $limit: Int, $extended: Boolean){\n  storyRemakes(page: $page, limit : $limit, extended : $extended){\n    name\n    count\n    recs{\n      id: _id\n      releaseYear\n      directed{\n        id{\n          ...PersonTinyFragment\n        } \n      }\n    }\n  }\n}\n"])),m.T4,r)},P=n(1015);function x(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function k(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?x(Object(n),!0).forEach((function(r){(0,o.Z)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}var Z=c.automata.name,C=(0,p.hg)("".concat(Z,"/fetchTopic"),function(){var e=(0,u.Z)(s().mark((function e(r,n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,P.S)(r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(r,n){return e.apply(this,arguments)}}()),T=(0,p.hg)("".concat(Z,"/fetchData"),function(){var e=(0,u.Z)(s().mark((function e(r,n){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.dispatch(D(r));case 2:return r.extended="banner"!==r.renderer,r.limit="banner"===r.renderer?100:10,e.next=6,j(r);case 6:return t=e.sent,"banner"===r.renderer&&(t.data=[{words:t.data}]),e.abrupt("return",t);case 9:case"end":return e.stop()}}),e)})));return function(r,n){return e.apply(this,arguments)}}()),E=(0,p.oM)({name:Z,initialState:{params:{renderer:null,entity:null,page:null},data:null,loading:!0,error:null,topic:{data:null,loading:!0,error:null}},reducers:{setParams:function(e,r){e.params=k(k({},e.params),r.payload),"banner"!=e.params.renderer&&1!=e.params.page&&f.default.push("".concat(c.page.url(e.params),"?page=").concat(e.params.page),null,{shallow:!0})}},extraReducers:(O={},(0,o.Z)(O,T.pending,(function(e,r){e.data=null,e.loading=!0,e.error=""})),(0,o.Z)(O,T.fulfilled,(function(e,r){var n=r.payload,t=n.loading,o=n.error,i=n.data;e.data=i,e.loading=t,e.error=o})),(0,o.Z)(O,T.rejected,(function(e,r){var n=r.error;e.data=[],e.loading=!1,e.error=n})),(0,o.Z)(O,C.pending,(function(e,r){e.topic.data=null,e.topic.loading=!0,e.topic.error=""})),(0,o.Z)(O,C.fulfilled,(function(e,r){var n=r.payload,t=n.loading,o=n.error,i=n.data;e.topic.data=i,e.topic.loading=t,e.topic.error=o})),(0,o.Z)(O,C.rejected,(function(e,r){var n=r.error;e.topic.data=[],e.topic.loading=!1,e.topic.error=n})),O)});d.h.reducerManager.add(Z,E.reducer);E.reducer;var D=E.actions.setParams,S=n(43332),I=n(49896),$=(n(59231),n(19888),n(82356)),H=n(85893);function N(e){var r=e.image,n=e.name,t=(e.count,e.recs);return(0,H.jsx)(S.Z,{image:r?r.poster:r,text:(0,H.jsx)("div",{children:t&&t.slice(0,3).map((function(e,r){var n,t,o;return null!==(n=e.directed[0])&&void 0!==n&&n.id?(0,H.jsx)($.Z,{title:e.releaseYear,value:(0,H.jsx)(_,{id:e.id,children:null===(t=e.directed[0])||void 0===t||null===(o=t.id)||void 0===o?void 0:o.name},r)},r):(0,H.jsx)($.Z,{title:"\xa0",value:(0,H.jsx)(_,{id:e.id,children:e.releaseYear},r)},r)}))}),title:n})}function _(e){var r=e.id,n=e.children;return r?(0,H.jsx)(I.Z,{id:r,children:(0,H.jsx)("div",{children:n})}):n}var R=n(39704),L=(n(39698),n(74035),n(26989)),M=n(23620);function z(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function Y(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?z(Object(n),!0).forEach((function(r){(0,o.Z)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}var F={showLines:!0,showTimeline:!1,topic:""};function A(e,r){var n;switch(r.type){case"INIT":return Y(Y({},e),{},{showLines:!0,showTimeline:!1,topic:""});case"SELECT_WORD":return Y(Y({},e),{},{showLines:!1,showTimeline:!0,topic:r.payload.topic});case"EXIT_TIMELINE":return Y(Y({},e),{},{showLines:!0,showTimeline:!1,topic:""});default:throw new Error("operation ".concat(null===(n=r.type)||void 0===n?void 0:n.toUpperCase()," not implemented"))}}var B=function(e){var r,n,t=e.props,o=t.words,a=(t.genre,t.year,t.loading),c=(0,i.useReducer)(A,F),u=c[0],l=c[1];return(0,H.jsxs)("div",{children:[(0,H.jsx)(M.Z,{data:o,onTopicClick:function(r){e.onTopicClick&&e.onTopicClick(r),l({type:"SELECT_WORD",payload:{topic:r}})},wordName:function(e){return e.name},wordCount:function(e){return e.count}}),(0,H.jsx)("br",{}),u.topic&&(0,H.jsx)(L.Z,{topic:u.topic,data:null===(r=e.topicData)||void 0===r||null===(n=r.topic)||void 0===n?void 0:n.data,loading:a,onExit:function(e){l({type:"EXIT_TIMELINE"})}})]})},G=function(e){var r=(0,R.I0)(),n=(0,R.v9)((function(e){return e["stories-remakes"]}));e.max,e.min,e.words;return(0,H.jsx)("div",{style:{padding:"1rem",width:"100%"},children:(0,H.jsx)(B,{onTopicClick:function(n){n=n.toLowerCase().replace(/ /g,","),e.onTopicClick&&e.onTopicClick(n),r(C({entity:"movie",topic:n}))},props:e,topicData:n})})};function q(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function W(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?q(Object(n),!0).forEach((function(r){(0,o.Z)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function X(e){return(0,H.jsx)(a.Z,{params:e,config:c,fetch:function(e){return T(W({},e))},item:function(r){return"banner"===e.render?(0,H.jsx)(G,W({},r)):(0,H.jsx)(N,W({full:!0},r))}})}},19888:function(e,r,n){n.d(r,{Rx:function(){return a},T5:function(){return c},et:function(){return u}});var t=n(92077),o=n.n(t),i=n(24417),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0a";return o()(Number(e)).format(r)},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return i.default.toSentenceCase(e)},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return i.default.toHeaderCase(e)}},74187:function(e,r,n){n.d(r,{$:function(){return a}});n(67294);var t=n(47036),o=n(6767),i=n.n(o);n(7269);function a(e,r){var n="dark"===e.palette.mode;r=r>9?9:r,r=n?10-r:r;var o=i()(10==r||0==r?n?"black":"white":t.Z[100*r]),a=(n?o.darken(.75):o.lighten(.75)).negate();return{backgroundColor:o.fade(.5).rgb().toString(),color:a.rgb().toString()}}},52871:function(e,r,n){n.d(r,{J:function(){return t}});var t=function(e){var r=e.all,n=void 0===r||r,t=["all","Action","Adult","Adventure","Animation","Biography","Comedy","Crime","Documentary","Drama","Family","Fantasy","Film-Noir","Game-Show","History","Horror","Music","Musical","Mystery","News","Reality-TV","Romance","Sci-Fi","Short","Sport","Talk-Show","Thriller","War","Western"].map((function(e){return e.toLowerCase()}));return n||(t=t.filter((function(e){return"all"!=e}))),t}},98326:function(e,r,n){n.d(r,{a:function(){return t},V:function(){return o}});var t=function(e){for(var r=e.ascending,n=void 0!==r&&r,t=[],o=1870;o<(new Date).getFullYear();o+=10){var i=o.toString().slice(0,3).padEnd(4,"0");t.push(i)}return n?t:t.reverse()},o=function(){for(var e=[],r=1870;r<(new Date).getFullYear();r++){var n=r.toString();e.push(n)}return e.reverse()}}}]);